{"version":3,"sources":["../../../../src/panels/alarm-table/alarm_details.js"],"names":["alarmDetailsAsDirective","AlarmDetailsCtrl","$scope","editor","index","alarm","$parent","source","severity","label","toLowerCase","severityIcon","getIconForSeverity","tabs","ticketingEnabled","ticketerConfig","enabled","push","relatedAlarms","length","detailsLink","detailsPage","substring","indexOf","restrict","templateUrl","controller","bindToController","controllerAs","scope","dismiss"],"mappings":";;;;;;QAkCgBA,uB,GAAAA,uB;;AAlChB;;;;IAEaC,gB;;AAEX;QAFWA,gB,GAGX,0BAAYC,MAAZ,EAAoB;AAAA;;AAClB,OAAKA,MAAL,GAAcA,MAAd;AACAA,SAAOC,MAAP,GAAgB,EAAEC,OAAO,CAAT,EAAhB;;AAEA;AACAF,SAAOG,KAAP,GAAeH,OAAOI,OAAP,CAAeD,KAA9B;AACAH,SAAOK,MAAP,GAAgBL,OAAOI,OAAP,CAAeC,MAA/B;;AAEA;AACA,MAAIC,WAAWN,OAAOG,KAAP,CAAaG,QAAb,CAAsBC,KAAtB,CAA4BC,WAA5B,EAAf;AACAR,SAAOS,YAAP,GAAsB,wBAAcC,kBAAd,CAAiCJ,QAAjC,CAAtB;;AAEA;AACAN,SAAOW,IAAP,GAAc,CAAC,UAAD,EAAa,OAAb,CAAd;AACAX,SAAOY,gBAAP,GAA0BZ,OAAOI,OAAP,CAAeS,cAAf,IAAiCb,OAAOI,OAAP,CAAeS,cAAf,CAA8BC,OAAzF;AACA,MAAId,OAAOY,gBAAX,EAA6B;AAC3BZ,WAAOW,IAAP,CAAYI,IAAZ,CAAiB,WAAjB;AACD;AACD,MAAIf,OAAOG,KAAP,CAAaa,aAAb,IAA8BhB,OAAOG,KAAP,CAAaa,aAAb,CAA2BC,MAA3B,GAAoC,CAAtE,EAAyE;AACvEjB,WAAOW,IAAP,CAAYI,IAAZ,CAAiB,gBAAjB;AACD;;AAED;AACAf,SAAOkB,WAAP,GAAqBlB,OAAOG,KAAP,CAAagB,WAAb,CAAyBC,SAAzB,CAAmC,CAAnC,EAAsCpB,OAAOG,KAAP,CAAagB,WAAb,CAAyBE,OAAzB,CAAiC,GAAjC,CAAtC,CAArB;AACD,C;;AAIH;;;AACO,SAASvB,uBAAT,GAAmC;AACxC;;AACA,SAAO;AACLwB,cAAU,GADL;AAELC,iBAAa,uEAFR;AAGLC,gBAAYzB,gBAHP;AAIL0B,sBAAkB,IAJb;AAKLC,kBAAc,MALT;AAMLC,WAAO,EAACC,SAAS,GAAV;AANF,GAAP;AAQD","file":"alarm_details.js","sourcesContent":["import {TableRenderer} from \"./renderer\"\n\nexport class AlarmDetailsCtrl {\n\n  /** @ngInject */\n  constructor($scope) {\n    this.$scope = $scope;\n    $scope.editor = { index: 0 };\n\n    // Save the alarm\n    $scope.alarm = $scope.$parent.alarm;\n    $scope.source = $scope.$parent.source;\n\n    // Compute the icon\n    let severity = $scope.alarm.severity.label.toLowerCase();\n    $scope.severityIcon = TableRenderer.getIconForSeverity(severity);\n\n    // Compute the tabs\n    $scope.tabs = ['Overview', 'Memos'];\n    $scope.ticketingEnabled = $scope.$parent.ticketerConfig && $scope.$parent.ticketerConfig.enabled;\n    if ($scope.ticketingEnabled) {\n      $scope.tabs.push('Ticketing');\n    }\n    if ($scope.alarm.relatedAlarms && $scope.alarm.relatedAlarms.length > 0) {\n      $scope.tabs.push('Related Alarms');\n    }\n\n    // Raw global details link\n    $scope.detailsLink = $scope.alarm.detailsPage.substring(0, $scope.alarm.detailsPage.indexOf(\"=\"));\n  }\n\n}\n\n/** @ngInject */\nexport function alarmDetailsAsDirective() {\n  'use strict';\n  return {\n    restrict: 'E',\n    templateUrl: 'public/plugins/opennms-helm-app/panels/alarm-table/alarm_details.html',\n    controller: AlarmDetailsCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {dismiss: \"&\"}\n  };\n}\n"]}