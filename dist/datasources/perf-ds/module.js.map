{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///external \"app/plugins/sdk\"","webpack:///external \"angular\"","webpack:///external \"@grafana/ui\"","webpack:///external \"@grafana/data\"","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./src/lib/function_formatter.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/parenthesis/index.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/components/timeout.js","webpack:///external \"app/core/app_events\"","webpack:///./src/datasources/perf-ds/constants.js","webpack:///./src/datasources/perf-ds/interpolate.js","webpack:///./src/datasources/perf-ds/datasource.js","webpack:///./src/datasources/perf-ds/modal_ctrl.js","webpack:///./src/datasources/perf-ds/query_ctrl.js","webpack:///./src/datasources/perf-ds/module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","self","ReferenceError","subClass","superClass","constructor","_typeof","assertThisInitialized","__WEBPACK_EXTERNAL_MODULE__9__","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__13__","obj","iterator","_setPrototypeOf","ARGUMENT_MATCH","isString","String","getLast","arr","Array","isArray","FunctionFormatter","label","_process","parse","brackets","parenthesize","map","entry","arguments","getArguments","console","log","parenthesizeWithArguments","filter","undefined","args","argsString","split","replacements","parenthesized","ret","forEach","token","apply","join","metadata","replace","nodeToLabel","nodeCriteria","node","_getNodeFromCriteria","resourceToLabel","criteriaOrResourceId","partialResourceId","resource","_getResource","resourceToName","resourceToInterface","match","matcher","skip","arg","index","prev","next","push","exec","prefix","startsWith","replacement","_flatten","Error","result","res","trim","nodeId","foreignSource","foreignId","indexOf","parseInt","_getNodeFromMetadata","nodes","id","resources","_getResourceFromCriteria","resourceCriteria","nodeCriterias","criteria","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","len","arr2","str","opts","escape","flat","bracket","pRE","RegExp","ids","replaceToken","idx","refId","slice","prevStr","a","reverse","re","nest","refs","stringify","replaceRef","reduce","f","curr","parenthesis","arrayLikeToArray","minLen","toString","from","test","_arr","_n","_d","_e","_s","_i","done","err","angular","directive","templateUrl","restrict","controller","controllerAs","bindToController","scope","current","this","jsonData","timeout","patterns","warn","__WEBPACK_EXTERNAL_MODULE__48__","QueryType","freeze","Attribute","Expression","Filter","defaultContainsVariable","variableName","_","isNull","isEmpty","defaultReplace","variables","interpolatedValue","each","variable","regexVarName","interpolate","attributes","callback","containsVariable","variablesWithIndex","clone","referencedVariables","find","attribute","productOfAllVariables","allValues","arrays","max","productOfAllValues","helper","j","rowOfValues","rowOfVariables","JSON","cartesianProductOfVariables","objects","rowOfReferencedVariables","OpenNMSDatasource","instanceSettings","$q","backendSrv","templateSrv","type","url","basicAuth","withCredentials","interval","timeInterval","searchLimit","options","headers","Authorization","datasourceRequest","statusText","cancelled","message","status","buildQuery","query","labels","source","doOpenNMSRequest","data","method","then","response","reject","processMeasurementsResponse","sortBy","catch","decorateError","when","title","resolve","interpolatedQuery","first","interpolateValue","findFunctions","func","metricFindNodeFilterQuery","metricFindNodeResourceQuery","params","filterRule","limit","count","totalCount","results","text","expandable","textProperty","resourceType","encodeURIComponent","getNodeResource","depth","children","textValue","resourceWithoutNodePrefix","maxDataPoints","intervalMs","start","range","valueOf","end","to","step","Math","floor","targets","transient","hide","resourceId","aggregation","subattribute","datasource","fallbackAttribute","interpolateSourceVariables","scopedVars","interpolatedSource","getRemoteResourceId","concat","expression","interpolateExpressionVariables","interpolatedFilterParms","interpolateVariables","filterParameters","keys","filters","filterParms","parameters","templateVariable","option","offset","comparator","orderBy","order","sysName","interpolatedNodeId","flattenResourcesWithAttributes","interpolatedResourceId","remoteResourceId","toLowerCase","rrdGraphAttributes","sort","nRows","nCols","datapoints","atLeastOneNonNaNValue","columns","timestamps","series","values","isNaN","format","resourcesWithAttributes","ModalCtrl","$scope","selectedRow","currentPage","pageSize","selfPagination","searchForRows","$","select","searching","search","allResult","rows","updateSelfPageinatedData","numberOfPages","ceil","finally","$evalAsync","row","ctrl","dismiss","OpenNMSQueryCtrl","$rootScope","$injector","$modal","types","error","validateTarget","showSelectionModal","searchForNodes","isUndefined","targetBlur","filterResources","filteredResources","nodeResources","deferred","defer","promise","getResourcesWithAttributesForNode","prop","suggestAttributes","namedAttributes","getAvailableFilters","$new","modal","template","persist","show","keyboard","modalEl","targetId","required","errorMessage","appEvents","emit","refresh","messages","QueryCtrl","GenericConfigCtrl","GenericQueryOptionsCtrl","loadPluginCss","dark","light"],"mappings":"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","file":"datasources/perf-ds/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 58);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","const ARGUMENT_MATCH = /\\s*,\\s*/;\n\nimport parse from 'parenthesis/index';\n\nconst isString = (value) => {\n    return typeof value === 'string' || value instanceof String;\n};\n\nconst getLast = (arr) => {\n    if (arr) {\n        if (Array.isArray(arr) && arr.length > 0) {\n            return arr[arr.length - 1];\n        }\n    }\n    return undefined;\n};\n\nexport class FunctionFormatter {\n    /**\n     * Convert the provided label into an array containing a mix of string values\n     * and function definitions for replacement.\n     */\n    static parenthesize(label) {\n        return FunctionFormatter._process(parse(label, {\n            brackets: ['()']\n        }));\n    }\n\n    /**\n     * Preprocess the parenthesized output so that format object arguments are parameterized\n     */\n    static parenthesizeWithArguments(label) {\n        const parenthesized = FunctionFormatter.parenthesize(label);\n        return parenthesized.map(entry => {\n            if (entry && entry.arguments) {\n                if (entry.arguments.length < 2) {\n                    entry.arguments = FunctionFormatter.getArguments(entry.arguments[0]);\n                } else {\n                    console.log('unexpected arguments, expected a single string:', entry);\n                }\n            }\n            return entry;\n        });\n    }\n\n    /**\n     * Given a label, return the list of potential functions found in it.\n     */\n    static findFunctions(label) {\n        return FunctionFormatter.parenthesizeWithArguments(label).filter(entry => entry && entry.name !== undefined);\n    }\n\n    /**\n     * Given an argument string, return a list of arguments.\n     */\n    static getArguments(args) {\n        const argsString = (args === undefined || args === null)? '' : args;\n        if (argsString.length === 0) {\n            return [];\n        }\n        const split = argsString.split(ARGUMENT_MATCH);\n        return Array.isArray(split) ? split : [split];\n    }\n\n    /**\n     * Given a label, replace instances of the functions in the replacements object.\n     * @param {string} label - the label string\n     * @param {*} replacements - an object of function names and their callbacks\n     */\n    static replace(label, replacements) {\n        const parenthesized = FunctionFormatter.parenthesizeWithArguments(label);\n\n        let ret = '';\n        parenthesized.forEach(token => {\n            if (isString(token)) {\n                // just a regular scalar\n                ret += token;\n            } else if (token.name) {\n                // potential function, check against replacements\n                if (replacements && replacements.hasOwnProperty(token.name)) {\n                    ret += replacements[token.name].apply(replacements[token.name], token.arguments);\n                } else {\n                    // not a matching function, just put it back\n                    ret += token.name + '(';\n                    if (token.arguments) {\n                        ret += token.arguments.join(', ');\n                    }\n                    ret += ')';\n                }\n            } else {\n                console.log('this should not happen... token=', token);\n            }\n        });\n        return ret;\n    }\n\n    /**\n     * Given a label and a set of OpenNMS measurements metadata, replace default\n     * functions like `nodeToLabel` and `resourceToName`.\n     * @param {string} label - the label string\n     * @param {*} replacements - an object of function names and their callbacks\n     */\n    static format(label, metadata) {\n        return FunctionFormatter.replace(label, {\n            nodeToLabel: (nodeCriteria) => {\n                const node = FunctionFormatter._getNodeFromCriteria(metadata, nodeCriteria);\n                if (node) {\n                    return node.label;\n                }\n                return nodeCriteria;\n            },\n            resourceToLabel: (criteriaOrResourceId, partialResourceId) => {\n                const resource = FunctionFormatter._getResource(metadata, criteriaOrResourceId, partialResourceId);\n                if (resource) {\n                    return resource.label;\n                }\n                return partialResourceId ? [criteriaOrResourceId, partialResourceId].join('.') : criteriaOrResourceId;\n            },\n            resourceToName: (criteriaOrResourceId, partialResourceId) => {\n                const resource = FunctionFormatter._getResource(metadata, criteriaOrResourceId, partialResourceId);\n                if (resource) {\n                    return resource.name;\n                }\n                return partialResourceId ? [criteriaOrResourceId, partialResourceId].join('.') : criteriaOrResourceId;\n            },\n            resourceToInterface: (criteriaOrResourceId, partialResourceId) => {\n                const resource = FunctionFormatter._getResource(metadata, criteriaOrResourceId, partialResourceId);\n                if (resource) {\n                    let match = resource.name.match(/^(\\w+)/);\n                    if (!match) {\n                        match = resource.label.match(/^(\\w+)/);\n                    }\n                    if (match) {\n                        return match[1];\n                    }\n                }\n                return partialResourceId ? [criteriaOrResourceId, partialResourceId].join('.') : criteriaOrResourceId;\n            }\n        });\n    }\n\n    /**\n     * Process the raw output of `parenthesis.parse` to detect functions.\n     */\n    static _process(args) {\n        const ret = [];\n        const matcher = /^(.*?)(\\w+?)\\($/;\n        let skip = false;\n        args.forEach((arg, index) => {\n            if (skip) {\n                skip = false;\n                return;\n            }\n            const prev = ret.length ? ret[ret.length - 1] : undefined;\n            const next = args[index + 1];\n\n            let match;\n            if (Array.isArray(arg)) {\n                ret.push(FunctionFormatter._process(arg));\n            } else if ((match = matcher.exec(arg)) !== null) {\n                let prefix = match[1];\n                if (prefix && prefix.length > 0) {\n                    if (prefix.startsWith(')') && prev && prev.name) {\n                        prefix = prefix.replace(/^\\)/, '');\n                    }\n                    ret.push(prefix);\n                }\n                ret.push({\n                    name: match[2],\n                    arguments: FunctionFormatter._process(next)\n                });\n                skip = true;\n            } else if (isString(arg) && arg.startsWith(')') && prev && prev.name) {\n                const replacement = arg.replace(/^\\)/, '');\n                if (replacement.length > 0) {\n                    ret.push(replacement);\n                }\n            } else {\n                ret.push(arg);\n            }\n        });\n        return FunctionFormatter._flatten(ret);\n    }\n\n    /**\n     * Combine string values in processed parenthesized output (from `_process`)\n     * so that we end up with a flat array of scalar strings and function replacements.\n     */\n    static _flatten(args) {\n        let ret = [];\n        args.forEach((arg) => {\n            if (isString(arg)) {\n                if (arg.length === 0) {\n                    return;\n                }\n                const prev = getLast(ret);\n                // argument is a string-part of the parsed label\n                if (isString(prev)) {\n                    ret[ret.length - 1] += arg;\n                } else {\n                    ret.push(arg);\n                }\n            } else if (arg && arg.arguments) {\n                // argument is a function, whose arguments may be flattenable as well\n                arg.arguments = FunctionFormatter._flatten(arg.arguments);\n                ret.push(arg);\n            } else if (Array.isArray(arg)) {\n                // argument is sub-parens that need further flattening\n                const result = FunctionFormatter._flatten(arg);\n                result.forEach((res) => {\n                    const prev = getLast(ret);\n                    if (isString(res)) {\n                        if (res.trim().length === 0) {\n                            return;\n                        }\n                        if (isString(prev)) {\n                            ret[ret.length - 1] += res;\n                        } else {\n                            ret.push(res);\n                        }\n                    } else if (res && res.arguments) {\n                        // argument is a function\n                        ret.push(res);\n                    } else {\n                        console.log('cannot reach here (result)', prev, res, result);\n                        throw new Error('cannot reach here (result)');\n                    }\n                });\n            } else {\n                console.log('cannot reach here (args)', arg, args);\n                throw new Error('cannot reach here (args)');\n            }\n        });\n        return ret;\n    }\n\n    static _getNodeFromCriteria(metadata, nodeCriteria) {\n        let nodeId, foreignSource, foreignId;\n        if (nodeCriteria && nodeCriteria.indexOf(':') > 0) {\n            [foreignSource, foreignId] = nodeCriteria.split(':');\n        } else {\n            nodeId = parseInt(nodeCriteria, 10);\n        }\n        return FunctionFormatter._getNodeFromMetadata(metadata, nodeId, foreignSource, foreignId);\n    }\n\n    static _getNodeFromMetadata(metadata, nodeId, foreignSource, foreignId) {\n        if (metadata && metadata.nodes) {\n            const ret = metadata.nodes.filter((node) => {\n                return (nodeId !== undefined && node.id === nodeId) ||\n                (foreignSource !== undefined && foreignId !== undefined &&\n                    node['foreign-source'] === foreignSource && node['foreign-id'] === foreignId);\n            })[0];\n            if (ret !== undefined) {\n                return ret;\n            }\n        }\n        //console.warn('Unable to locate node ' + [nodeId, foreignSource, foreignId].join(',') + ' in metadata.', metadata);\n        return null;\n    }\n\n    static _getResource(metadata, criteriaOrResourceId, partialResourceId) {\n        if (partialResourceId === undefined) {\n            for (const resource of metadata.resources) {\n                if (resource.id === criteriaOrResourceId) {\n                    return resource;\n                }\n            }\n        } else {\n            const node = FunctionFormatter._getNodeFromCriteria(metadata, criteriaOrResourceId);\n            if (node) {\n                const resource = FunctionFormatter._getResourceFromCriteria(metadata, partialResourceId, 'node[' + node['foreign-source'] + ':' + node['foreign-id'] + ']', 'node[' + node.id + ']');\n                if (resource) {\n                    return resource;\n                }\n            }\n        }\n        //console.warn('Unable to locate resource ' + [criteriaOrResourceId,partialResourceId].join('.') + ' in metadata.', metadata);\n        return null;\n    }\n\n    static _getResourceFromCriteria(metadata, resourceCriteria, ...nodeCriterias) {\n        if (metadata && metadata.resources) {\n            const ret = metadata.resources.filter((resource) => {\n                if (resource.id === resourceCriteria) return true;\n                for (const criteria of nodeCriterias.map(c => c + '.' + resourceCriteria)) {\n                    if (resource.id === criteria) {\n                        return true;\n                    }\n                }\n                return false;\n            })[0];\n            if (ret !== undefined) {\n                return ret;\n            }\n        }\n        //console.warn('Unable to locate resource ' + resourceCriteria + ' in metadata.', metadata);\n        return null;\n    }\n}","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","'use strict'\n\n/**\n * @module parenthesis\n */\n\nfunction parse (str, opts) {\n\t// pretend non-string parsed per-se\n\tif (typeof str !== 'string') return [str]\n\n\tvar res = [str]\n\n\tif (typeof opts === 'string' || Array.isArray(opts)) {\n\t\topts = {brackets: opts}\n\t}\n\telse if (!opts) opts = {}\n\n\tvar brackets = opts.brackets ? (Array.isArray(opts.brackets) ? opts.brackets : [opts.brackets]) : ['{}', '[]', '()']\n\n\tvar escape = opts.escape || '___'\n\n\tvar flat = !!opts.flat\n\n\tbrackets.forEach(function (bracket) {\n\t\t// create parenthesis regex\n\t\tvar pRE = new RegExp(['\\\\', bracket[0], '[^\\\\', bracket[0], '\\\\', bracket[1], ']*\\\\', bracket[1]].join(''))\n\n\t\tvar ids = []\n\n\t\tfunction replaceToken(token, idx, str){\n\t\t\t// save token to res\n\t\t\tvar refId = res.push(token.slice(bracket[0].length, -bracket[1].length)) - 1\n\n\t\t\tids.push(refId)\n\n\t\t\treturn escape + refId + escape\n\t\t}\n\n\t\tres.forEach(function (str, i) {\n\t\t\tvar prevStr\n\n\t\t\t// replace paren tokens till there’s none\n\t\t\tvar a = 0\n\t\t\twhile (str != prevStr) {\n\t\t\t\tprevStr = str\n\t\t\t\tstr = str.replace(pRE, replaceToken)\n\t\t\t\tif (a++ > 10e3) throw Error('References have circular dependency. Please, check them.')\n\t\t\t}\n\n\t\t\tres[i] = str\n\t\t})\n\n\t\t// wrap found refs to brackets\n\t\tids = ids.reverse()\n\t\tres = res.map(function (str) {\n\t\t\tids.forEach(function (id) {\n\t\t\t\tstr = str.replace(new RegExp('(\\\\' + escape + id + '\\\\' + escape + ')', 'g'), bracket[0] + '$1' + bracket[1])\n\t\t\t})\n\t\t\treturn str\n\t\t})\n\t})\n\n\tvar re = new RegExp('\\\\' + escape + '([0-9]+)' + '\\\\' + escape)\n\n\t// transform references to tree\n\tfunction nest (str, refs, escape) {\n\t\tvar res = [], match\n\n\t\tvar a = 0\n\t\twhile (match = re.exec(str)) {\n\t\t\tif (a++ > 10e3) throw Error('Circular references in parenthesis')\n\n\t\t\tres.push(str.slice(0, match.index))\n\n\t\t\tres.push(nest(refs[match[1]], refs))\n\n\t\t\tstr = str.slice(match.index + match[0].length)\n\t\t}\n\n\t\tres.push(str)\n\n\t\treturn res\n\t}\n\n\treturn flat ? res : nest(res[0], res)\n}\n\nfunction stringify (arg, opts) {\n\tif (opts && opts.flat) {\n\t\tvar escape = opts && opts.escape || '___'\n\n\t\tvar str = arg[0], prevStr\n\n\t\t// pretend bad string stringified with no parentheses\n\t\tif (!str) return ''\n\n\n\t\tvar re = new RegExp('\\\\' + escape + '([0-9]+)' + '\\\\' + escape)\n\n\t\tvar a = 0\n\t\twhile (str != prevStr) {\n\t\t\tif (a++ > 10e3) throw Error('Circular references in ' + arg)\n\t\t\tprevStr = str\n\t\t\tstr = str.replace(re, replaceRef)\n\t\t}\n\n\t\treturn str\n\t}\n\n\treturn arg.reduce(function f (prev, curr) {\n\t\tif (Array.isArray(curr)) {\n\t\t\tcurr = curr.reduce(f, '')\n\t\t}\n\t\treturn prev + curr\n\t}, '')\n\n\tfunction replaceRef(match, idx){\n\t\tif (arg[idx] == null) throw Error('Reference ' + idx + 'is undefined')\n\t\treturn arg[idx]\n\t}\n}\n\nfunction parenthesis (arg, opts) {\n\tif (Array.isArray(arg)) {\n\t\treturn stringify(arg, opts)\n\t}\n\telse {\n\t\treturn parse(arg, opts)\n\t}\n}\n\nparenthesis.parse = parse\nparenthesis.stringify = stringify\n\nmodule.exports = parenthesis\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","const directive = () => {\n  return {\n    templateUrl: 'public/plugins/opennms-helm-app/components/timeout.html',\n    restrict: 'E',\n    controller: 'OnmsTimeoutCtrl',\n    controllerAs: 'ctrl',\n    bindToController: true,\n    scope: {\n      current: '='\n    }\n  };\n};\n\nclass OnmsTimeoutCtrl {\n  /** @ngInject */\n  constructor() {\n      if (!this.current) {\n      console.log('no current controller!');\n      }\n    if (!this.current.jsonData.timeout) {\n      this.current.jsonData.timeout = 10;\n    }\n    this.patterns = {\n      timeout: /^\\d+$/\n    };\n  }\n}\n\nif (typeof angular !== 'undefined') {\n  angular.module('grafana.directives')\n    .directive('onmsTimeoutSettings', directive)\n    .controller('OnmsTimeoutCtrl', OnmsTimeoutCtrl);\n} else {\n  console.warn('Angular not found!  <onms-timeout> will not work!');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__48__;","export const QueryType = Object.freeze({\n  Attribute: 'attribute',\n  Expression: 'expression',\n  Filter: 'filter'\n});\n","import _ from 'lodash';\n\nfunction cartesianProductOfArrays(arrays) {\n  // Based on the code from http://stackoverflow.com/questions/15298912/\n  // javascript-generating-combinations-from-n-arrays-with-m-elements\n  var r = [], max = arrays.length - 1;\n\n  function helper(arr, i) {\n    for (var j = 0, l = arrays[i].length; j < l; j++) {\n      var a = arr.slice(0); // clone arr\n      a.push(arrays[i][j]);\n      if (i === max) {\n        r.push(a);\n      } else {\n        helper(a, i + 1);\n      }\n    }\n  }\n\n  helper([], 0);\n  return r;\n}\n\nfunction cartesianProductOfVariables(variables) {\n  // Collect the values from all of the variables\n  var allValues = [];\n  _.each(variables, function (variable) {\n    allValues.push(variable.value);\n  });\n\n  // Generate the cartesian product\n  var productOfAllValues = cartesianProductOfArrays(allValues);\n\n  // Rebuild the variables\n  var productOfAllVariables = [];\n  _.each(productOfAllValues, function (rowOfValues) {\n    var rowOfVariables = [];\n    for (var i = 0, l = variables.length; i < l; i++) {\n      // Deep clone\n      var variable = JSON.parse(JSON.stringify(variables[i]));\n      variable.value = rowOfValues[i];\n      rowOfVariables.push(variable);\n    }\n    productOfAllVariables.push(rowOfVariables);\n  });\n\n  return productOfAllVariables;\n}\n\nfunction defaultContainsVariable(value, variableName) {\n  if (_.isNull(value) || _.isEmpty(value)) {\n    return false;\n  }\n  return value.indexOf(\"$\" + variableName) >= 0;\n}\n\nfunction defaultReplace(value, variables) {\n  if (_.isNull(value) || _.isEmpty(value)) {\n    return value;\n  }\n  var interpolatedValue = value;\n  _.each(variables, function (variable) {\n    var regexVarName = \"\\\\$\" + variable.name.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    interpolatedValue = interpolatedValue.replace(new RegExp(regexVarName, \"g\"), variable.value);\n  });\n  return interpolatedValue;\n}\n\n/**\n * Replaces the object's attributes with the values of the referenced variables.\n *\n * If a referenced variable contains multiple values or if there are multiple referenced variables\n * then we generate copies of the object with all of the possible permutations.\n *\n * See interpolate_spec.js for examples.\n *\n * @param object\n *    the object to interpolate\n * @param attributes\n *    a list of attributes on a given object that should be checked for variables\n * @param variables\n *    a list of variables of the form [{name: 'varname', value: ['value1', 'value2']}, ...]\n * @param callback\n *    an optional callback made with the object after variable substitution has been performed\n * @param containsVariable\n *    optionally override the function used to determine if a string contains a reference to the named variable\n * @param replace\n *    optionally override the function used to substitute the variable reference in a string with the variables's value\n * @returns an array of objects, if no substitutions were performed, the array will contain the original object\n */\nexport function interpolate(object, attributes, variables, callback, containsVariable, replace) {\n  // Use default for the functions when undefined\n  if (callback === undefined) {\n    callback = () => {};\n  }\n  if (containsVariable === undefined) {\n    containsVariable = defaultContainsVariable;\n  }\n  if (replace === undefined) {\n    replace = defaultReplace;\n  }\n\n  // Add the index variable with a single value\n  var variablesWithIndex = _.clone(variables);\n  variablesWithIndex.push({name: 'index', value: [0]});\n\n  // Collect the list of variables that are referenced by one or more of the keys\n  var referencedVariables = [];\n  _.each(variablesWithIndex, function (variable) {\n    var isVariableReferenced = _.find(attributes, function (attribute) {\n      return containsVariable(object[attribute], variable.name);\n    });\n\n    if (isVariableReferenced) {\n      referencedVariables.push(variable);\n    }\n  });\n\n  if (referencedVariables.length < 1) {\n    // No variables are referenced, nothing to substitute\n    callback(object);\n    return [object];\n  }\n\n  // Generate all possible permutations of the referenced variable's values\n  var productOfAllVariables = cartesianProductOfVariables(referencedVariables);\n\n  // Perform the required variable substitution\n  var objects = [];\n  var index = 0;\n  _.each(productOfAllVariables, function (rowOfReferencedVariables) {\n    // Update the value of the index variable to reflect the index of the row\n    _.each(rowOfReferencedVariables, function (variable) {\n      if (variable.name === 'index') {\n        variable.value = 'idx' + index;\n        index += 1;\n      }\n    });\n\n    var o = _.clone(object);\n    _.each(attributes, function (attribute) {\n      o[attribute] = replace(o[attribute], rowOfReferencedVariables);\n    });\n\n    callback(o);\n\n    objects.push(o);\n  });\n\n  return objects;\n}\n","import {QueryType} from './constants';\nimport {interpolate} from \"./interpolate\";\nimport _ from 'lodash';\nimport {FunctionFormatter} from '../../lib/function_formatter';\n\nexport class OpenNMSDatasource {\n  /** @ngInject */\n  constructor(instanceSettings, $q, backendSrv, templateSrv) {\n    this.type = instanceSettings.type;\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.basicAuth = instanceSettings.basicAuth;\n    this.withCredentials = instanceSettings.withCredentials;\n    // This variable is referenced by the calculateInterval() method in metrics_panel_ctrl.ts\n    this.interval = (instanceSettings.jsonData || {}).timeInterval;\n\n    if (instanceSettings.jsonData && instanceSettings.jsonData.timeout) {\n        this.timeout = parseInt(instanceSettings.jsonData.timeout,10) * 1000;\n    }\n\n    this.$q = $q;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n\n    this.searchLimit = 25;\n    this.target = {};\n  }\n\n  doOpenNMSRequest(options) {\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n    if (this.basicAuth) {\n      options.headers = options.headers || {};\n      options.headers.Authorization = this.basicAuth;\n    }\n\n    options.url = this.url + options.url;\n    if (this.timeout) {\n      options.timeout = this.timeout;\n    }\n\n    return this.backendSrv.datasourceRequest(options);\n  }\n\n  decorateError(err) {\n    let ret = err;\n    if (err.err) {\n      ret = err.err;\n    }\n    let statusText = ret.statusText || 'Request failed.';\n\n    // cancelled property causes the UI to never complete on failure\n    if (ret.cancelled) {\n      delete ret.cancelled;\n      statusText = 'Request timed out.';\n    }\n    if (err.cancelled) {\n      delete err.cancelled;\n      statusText = 'Request timed out.';\n    }\n\n    if (!ret.message) {\n      ret.message = statusText;\n    }\n    if (!ret.status) {\n      ret.status = 'error';\n    }\n    return ret;\n  }\n\n  query(options) {\n    const self = this;\n\n    // Generate the query\n    var [query, labels] = this.buildQuery(options);\n\n    // Issue the request\n    var request;\n    if (query.source.length > 0) {\n      request = this.doOpenNMSRequest({\n        url: '/rest/measurements',\n        data: query,\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'}\n      });\n    } else {\n      // There are no sources listed, let Grafana display \"No data points\" to the user\n      return this.$q.when({ data: [] });\n    }\n\n    return request\n      // Convert the results to the expected format\n      .then((response) => {\n        if (response.status < 200 || response.status >= 300) {\n          console.warn('Response code:',response);\n          return self.$q.reject(response);\n        }\n\n        return OpenNMSDatasource.processMeasurementsResponse(response);\n      })\n      // Sort resulting series by labels\n      .then((result) => {\n          result.data = _.sortBy(result.data, (s) => _.indexOf(labels, s.label));\n          return result;\n      })\n      .catch(err => {\n        return self.$q.reject(self.decorateError(err));\n      });\n  }\n\n  // Used for testing the connection from the datasource configuration page\n  testDatasource() {\n    return this.doOpenNMSRequest({\n      url: '/rest/info',\n      method: 'GET'\n    }).then(response => {\n      if (response.status === 200) {\n        return {status: \"success\", message: \"Data source is working\", title: \"Success\"};\n      } else {\n        return {\n          status: \"danger\",\n          message: \"OpenNMS provided a response, but no metadata was found.\",\n          title: \"Unexpected Response \" + response.status\n        };\n      }\n    }).catch(err => {\n      return this.decorateError(err);\n    });\n  }\n\n  // Used by template queries\n  metricFindQuery(query) {\n    if (query === null || query === undefined || query === \"\") {\n      return this.$q.resolve([]);\n    }\n\n    var interpolatedQuery = _.first(this.interpolateValue(query));\n\n    if (interpolatedQuery !== undefined) {\n      const functions = FunctionFormatter.findFunctions(interpolatedQuery);\n\n      for (const func of functions) {\n        if (func.name === 'nodeFilter') {\n          return this.metricFindNodeFilterQuery.apply(this, func.arguments);\n        } else if (func.name === 'nodeResources') {\n          return this.metricFindNodeResourceQuery.apply(this, func.arguments);\n        } else {\n          console.warn('Unknown function in interpolated query: ' + interpolatedQuery, func);\n        }\n      }\n    }\n\n    return this.$q.resolve([]);\n  }\n\n  metricFindNodeFilterQuery(query) {\n    return this.doOpenNMSRequest({\n      url: '/rest/nodes',\n      method: 'GET',\n      params: {\n        filterRule: query,\n        limit: 0\n      }\n    }).then(function (response) {\n      if (response.data.count > response.data.totalCount) {\n        console.warn(\"Filter matches \" + response.data.totalCount + \" records, but only \" + response.data.count + \" will be used.\");\n      }\n      var results = [];\n      _.each(response.data.node, function (node) {\n        var nodeCriteria = node.id.toString();\n        if (node.foreignId !== null && node.foreignSource !== null) {\n          nodeCriteria = node.foreignSource + \":\" + node.foreignId;\n        }\n        results.push({text: node.label, value: nodeCriteria, expandable: true});\n      });\n      return results;\n    });\n  }\n\n  metricFindNodeResourceQuery(query, ...options) {\n    var textProperty = \"id\", resourceType = '*';\n    if (options.length > 0) {\n      textProperty = options[0];\n    }\n    if (options.length > 1) {\n      resourceType = options[1];\n    }\n    return this.doOpenNMSRequest({\n      url: '/rest/resources/' + encodeURIComponent(OpenNMSDatasource.getNodeResource(query)),\n      method: 'GET',\n      params: {\n        depth: 1\n      }\n    }).then(function (response) {\n      var results = [];\n      _.each(response.data.children.resource, function (resource) {\n        var resourceWithoutNodePrefix = resource.id.match(/node(Source)?\\[.*?\\]\\.(.*)/);\n        var textValue;\n        switch (textProperty) {\n          case \"id\":\n            textValue = resourceWithoutNodePrefix[2];\n            break;\n          case \"label\":\n            textValue = resource.label;\n            break;\n          case \"name\":\n            textValue = resource.name;\n            break;\n          default:\n            textValue = resourceWithoutNodePrefix[2];\n            console.warn(`Unknown resource property '${textProperty}' specified. Using 'id' instead.`);\n        }\n        if ((resourceType === '*' && resourceWithoutNodePrefix) || (resourceWithoutNodePrefix[2].indexOf(resourceType + '[') === 0)) {\n          results.push({text: textValue, value: resourceWithoutNodePrefix[2], expandable: true});\n        }\n      });\n      return results;\n    });\n  }\n\n  buildQuery(options) {\n    const maxDataPoints = options.maxDataPoints || 300;\n    const intervalMs = options.intervalMs || 60 * 1000;\n\n    var self = this,\n      start = options.range.from.valueOf(),\n      end = options.range.to.valueOf(),\n      step = Math.floor((end - start) / maxDataPoints);\n      step = (step < intervalMs) ? intervalMs : step;\n\n    var query = {\n      \"start\": start,\n      \"end\": end,\n      \"step\": step,\n      \"relaxed\": true, // enable relaxed mode, which allows for missing attributes\n      \"maxrows\": maxDataPoints,\n      \"source\": [],\n      \"expression\": []\n    };\n\n    var labels = [];\n\n    _.each(options.targets, function (target) {\n      var transient = \"false\";\n      if (target.hide) {\n        transient = true;\n      }\n\n      if (target.type === QueryType.Attribute) {\n        if (!((target.nodeId && target.resourceId && target.attribute))) {\n          return;\n        }\n\n        var label = target.label;\n        if (label === undefined || label === '') {\n          label = target.attribute;\n        }\n\n        // Build the source\n        let source = {\n          \"aggregation\": target.aggregation,\n          \"attribute\": target.attribute,\n          \"label\": label,\n          \"resourceId\": target.resourceId,\n          \"nodeId\": target.nodeId, // temporary attribute used for interpolation\n          \"transient\": transient\n        };\n\n        if (target.subattribute !== undefined && target.subattribute !== '') {\n          source.datasource = target.subattribute;\n        }\n        if (target.fallbackAttribute !== undefined && target.fallbackAttribute !== '') {\n          source['fallback-attribute'] = target.fallbackAttribute;\n        }\n\n        // Perform variable substitution - may generate additional queries\n        source = self.interpolateSourceVariables(source, options.scopedVars, (interpolatedSource) => {\n            // Calculate the effective resource id after the interpolation\n            interpolatedSource.resourceId = OpenNMSDatasource.getRemoteResourceId(interpolatedSource.nodeId, interpolatedSource.resourceId);\n            delete interpolatedSource.nodeId;\n        });\n        query.source = query.source.concat(source);\n\n        labels = labels.concat(_.map(source, 'label'));\n\n      } else if (target.type === QueryType.Expression) {\n        if (!((target.label && target.expression))) {\n          return;\n        }\n\n        // Build the expression\n        let expression = {\n          \"label\": target.label,\n          \"value\": target.expression,\n          \"transient\": transient\n        };\n\n        // Perform variable substitution - may generate additional expressions\n        expression = self.interpolateExpressionVariables(expression, options.scopedVars);\n        query.expression = query.expression.concat(expression);\n\n        labels = labels.concat(_.map(expression, 'label'));\n\n      } else if (target.type === QueryType.Filter) {\n        if (!((target.filter))) {\n          return;\n        }\n\n        // Interpolate the filter parameters\n        var interpolatedFilterParms = self.interpolateVariables(target.filterParameters, _.keys(target.filterParameters), options.scopedVars);\n\n        var filters = _.map(interpolatedFilterParms, (filterParms) => {\n          // Build the filter definition\n          var parameters = [];\n          _.each(filterParms, function (value, key) {\n            // Skip parameters with undefined or empty values\n            if (value === undefined || value === '' || value === null) {\n              return;\n            }\n\n            parameters.push({\n              'key': key,\n              'value': value\n            });\n          });\n\n          return {\n            \"name\": target.filter.name,\n            \"parameter\": parameters\n          };\n        });\n\n        // Only add the filter attribute to the query when one or more filters are specified since\n        // OpenNMS versions before 17.0.0 do not support it\n        if (!query.filter) {\n          query.filter = filters;\n        } else {\n          query.filter = query.filter.concat(filters);\n        }\n      }\n    });\n\n    return [query, labels];\n  }\n\n  interpolateSourceVariables(source, scopedVars, callback) {\n    return this.interpolateVariables(source, ['nodeId', 'resourceId', 'attribute', 'datasource', 'label'], scopedVars, callback);\n  }\n\n  interpolateExpressionVariables(expression, scopedVars) {\n    return this.interpolateVariables(expression, ['value', 'label'], scopedVars);\n  }\n\n  interpolateValue(value, scopedVars) {\n    return _.map(this.interpolateVariables({'value': value}, ['value'], scopedVars), function(entry) {\n      return entry.value;\n    });\n  }\n\n  interpolateVariables(object, attributes, scopedVars, callback) {\n    // Reformat the variables to work with our interpolate function\n    var variables = [];\n    _.each(this.templateSrv.variables, function(templateVariable) {\n      var variable = {\n        name: templateVariable.name,\n        value: []\n      };\n\n      // If this templateVar exists in scopedVars, we need to look at the scoped values\n      if (scopedVars && scopedVars[variable.name] !== undefined) {\n        variable.value.push(scopedVars[variable.name].value);\n      } else {\n        // Single-valued?\n        if (_.isString(templateVariable.current.value)) {\n          variable.value.push(templateVariable.current.value);\n        } else {\n          _.each(templateVariable.current.value, function(value) {\n            if (value === \"$__all\") {\n              _.each(templateVariable.options, function(option) {\n                // \"All\" is part of the options, so make sure to skip that one\n                if (option.value !== \"$__all\") {\n                  variable.value.push(option.value);\n                }\n              });\n            } else {\n              variable.value.push(value);\n            }\n          });\n        }\n      }\n\n      variables.push(variable);\n    });\n    return interpolate(object, attributes, variables, callback);\n  }\n\n  static processMeasurementsResponse(response) {\n    var labels = response.data.labels;\n    var columns = response.data.columns;\n    var timestamps = response.data.timestamps;\n    var metadata = response.data.metadata;\n    var series = [];\n    var i, j, nRows, nCols, datapoints;\n    var value, atLeastOneNonNaNValue;\n\n    if (timestamps !== undefined) {\n      nRows = timestamps.length;\n      nCols = columns.length;\n\n      for (i = 0; i < nCols; i++) {\n        atLeastOneNonNaNValue = false;\n        datapoints = [];\n        for (j = 0; j < nRows; j++) {\n          // Skip rows that are out-of-ranges - this can happen with RRD data in narrow time spans\n          if (timestamps[j] < response.data.start || timestamps[j] > response.data.end) {\n            continue;\n          }\n\n          value = columns[i].values[j];\n          // Replace literal 'NaN' values with nulls\n          if (value === 'NaN') {\n            value = null;\n          }\n\n          if (!atLeastOneNonNaNValue && !isNaN(value)) {\n            atLeastOneNonNaNValue = true;\n          }\n          datapoints.push([value, timestamps[j]]);\n        }\n\n        let label = labels[i];\n        if (metadata && metadata.resources) {\n          label = FunctionFormatter.format(label, metadata);\n        }\n\n        // Skip series that are all NaNs\n        // When querying in relaxed mode, expressions that operate against attribute that are missing may only contain\n        // NaNs. In this case, we don't want to show them at all.\n        if (atLeastOneNonNaNValue) {\n          series.push({\n            target: label,\n            label: labels[i],\n            datapoints: datapoints\n          });\n        }\n      }\n    }\n\n    return {data: series};\n  }\n\n  static flattenResourcesWithAttributes(resources, resourcesWithAttributes) {\n    _.each(resources, function (resource) {\n      if (resource.rrdGraphAttributes !== undefined && Object.keys(resource.rrdGraphAttributes).length > 0) {\n        resourcesWithAttributes.push(resource);\n      }\n      if (resource.children !== undefined && resource.children.resource.length > 0) {\n        OpenNMSDatasource.flattenResourcesWithAttributes(resource.children.resource, resourcesWithAttributes);\n      }\n    });\n    return resourcesWithAttributes;\n  }\n\n  static getNodeResource(nodeId) {\n    var prefix = \"\";\n    if (nodeId.indexOf(\":\") > 0) {\n      prefix = \"nodeSource[\";\n    } else {\n      prefix = \"node[\";\n    }\n    return prefix + nodeId + \"]\";\n  }\n\n  static getRemoteResourceId(nodeId, resourceId) {\n    return OpenNMSDatasource.getNodeResource(nodeId) + \".\" + resourceId;\n  }\n\n  searchForNodes(query, offset) {\n    return this.doOpenNMSRequest({\n      url: '/rest/nodes',\n      method: 'GET',\n      params: {\n        offset: offset,\n        limit: this.searchLimit,\n        match: 'any',\n        comparator: 'ilike',\n        orderBy: 'id',\n        order: 'asc',\n        label: '%' + query + '%',\n        sysName: '%' + query + '%',\n        'ipInterface.ipAddress': '%' + query + '%',\n        'ipInterface.ipHostName': '%' + query + '%',\n        'foreignId': query + '%' // doesn't support leading '%'\n      }\n    });\n  }\n\n  getResourcesWithAttributesForNode(nodeId) {\n    var interpolatedNodeId = _.first(this.interpolateValue(nodeId));\n\n    return this.doOpenNMSRequest({\n      url: '/rest/resources/fornode/' + encodeURIComponent(interpolatedNodeId),\n      method: 'GET',\n      params: {\n        depth: -1\n      }\n    }).then(function (results) {\n      return OpenNMSDatasource.flattenResourcesWithAttributes([results.data], []);\n    });\n  }\n\n  getAvailableFilters() {\n    return this.doOpenNMSRequest({\n      url: '/rest/measurements/filters',\n      method: 'GET'\n    });\n  }\n\n  suggestAttributes(nodeId, resourceId, query) {\n    var interpolatedNodeId = _.first(this.interpolateValue(nodeId)),\n        interpolatedResourceId = _.first(this.interpolateValue(resourceId));\n    var remoteResourceId = OpenNMSDatasource.getRemoteResourceId(interpolatedNodeId, interpolatedResourceId);\n\n    return this.doOpenNMSRequest({\n      url: '/rest/resources/' + encodeURIComponent(remoteResourceId),\n      method: 'GET',\n      params: {\n        depth: -1\n      }\n    }).then(function (results) {\n      query = query.toLowerCase();\n      var attributes = [];\n      _.each(results.data.rrdGraphAttributes, function (value, key) {\n        if (key.toLowerCase().indexOf(query) >= 0) {\n          attributes.push(key);\n        }\n      });\n      attributes.sort();\n\n      return attributes;\n    });\n  }\n}\n","class ModalCtrl {\n  /** @ngInject */\n  constructor($scope) {\n    this.$scope = $scope;\n    this.query = \"\";\n    this.offset = 0;\n    this.selectedRow = null;\n    this.currentPage = 0;\n    this.pageSize = 25;\n    this.selfPagination = false; // Flag for client-side pagination\n    this.searchForRows();\n\n    // make sure the search input selects, and the first refresh happens\n    $('[name=\"perf-modal-query\"]').select();\n  }\n\n  searchForRows() {\n    var self = this;\n    this.searching = true;\n    \n    this.$scope.search(this.query, this.offset)\n      .then(function (results) {\n        // Reset the selected row\n        self.selectedRow = null;\n\n        // Add the results to the scope\n        self.allResult = results.rows;\n\n        // Apply client-side pagination if result is > pageSize\n        if(results.rows.length > self.pageSize){\n          self.selfPagination = true;\n          self.count = 0;\n          self.updateSelfPageinatedData();\n        }\n        else {\n          self.rows = results.rows;  // When paginated or limited result received\n          self.count = (results.count ? results.count : self.rows.length) + self.offset;\n        }\n\n        self.totalCount = results.totalCount;\n        self.numberOfPages= Math.ceil(self.totalCount/self.pageSize);                \n      }).finally(() => {\n        self.$scope.$evalAsync(() => {\n          self.searching = false;\n        });\n      });\n  }\n\n  updateSelfPageinatedData(){\n    this.rows =  this.allResult.slice(this.offset, (this.offset + this.pageSize));\n    this.count += this.rows.length;\n  }\n\n  startFrom(currentPage, pageSize) {\n    return currentPage*pageSize;\n  }\n\n  setClickedRow(index) {\n    if (this.selectedRow === index) {\n      this.selectedRow = null;\n    } else {\n      this.selectedRow = index;\n      // Keep a reference to the row when the selection is made\n      this.row = this.rows[this.selectedRow];\n    }\n  }\n\n  nextPage(){\n    if((this.currentPage + 1) == this.$scope.ctrl.numberOfPages){\n      return; // Maximum pages reached\n    }\n\n    this.offset += this.pageSize;\n    this.currentPage++;\n    \n    if(this.selfPagination){\n      this.updateSelfPageinatedData();\n    }\n    else{\n      this.searchForRows();\n    }\n  }\n\n  prevPage(){\n    if(this.currentPage == 0){\n      return;\n    }\n    this.offset -= this.pageSize;\n    this.currentPage--;\n    this.searchForRows();\n  }\n\n  cancel() {\n    this.$scope.result.reject();\n    this.$scope.dismiss();\n  }\n\n  ok() {\n    if (this.selectedRow !== null) {\n      this.$scope.result.resolve(this.row);\n    } else {\n      this.$scope.result.reject();\n    }\n    this.$scope.dismiss();\n  }\n}\n\nif (typeof angular !== 'undefined') {\n  angular.module('grafana.controllers')\n    .controller('OpenNMSModalSelectionCtrl', ModalCtrl);\n}\n","import './modal_ctrl';\nimport {QueryType} from './constants';\nimport {QueryCtrl} from 'app/plugins/sdk';\nimport appEvents from 'app/core/app_events';\nimport _ from 'lodash';\n\nexport class OpenNMSQueryCtrl extends QueryCtrl {\n  /** @ngInject */\n  constructor($rootScope, $scope, $injector, $q, $modal) {\n    super($scope, $injector);\n\n    this.types = QueryType;\n\n    this.error = this.validateTarget();\n    this.$rootScope = $rootScope;\n    this.$q = $q;\n    this.$modal = $modal;\n  }\n\n  openNodeSelectionModal() {\n    var self = this;\n    this.showSelectionModal(\"nodes\", {\n      '#': 'id',\n      'Label': 'label',\n      'Foreign ID': 'foreignId',\n      'sysName': 'sysName'\n    }, function (query, offset) {\n      return self.datasource\n        .searchForNodes(query, offset)\n        .then(function (results) {\n          return {\n            'count': results.data.count,\n            'totalCount': results.data.totalCount,\n            'rows': results.data.node\n          };\n        });\n    }, function (node) {\n      if (!_.isUndefined(node.foreignId) && !_.isNull(node.foreignId) &&\n        !_.isUndefined(node.foreignSource) && !_.isNull(node.foreignSource)) {\n        // Prefer fs:fid\n        self.target.nodeId = node.foreignSource + \":\" + node.foreignId;\n      } else {\n        // Fallback to node id\n        self.target.nodeId = node.id;\n      }\n      self.targetBlur('nodeId');\n    });\n  }\n\n  openResourceSelectionModal() {\n    var self = this;\n\n    function filterResources(resources, query) {\n      var filteredResources = resources;\n      if (query.length >= 1) {\n        query = query.toLowerCase();\n        filteredResources = _.filter(resources, function (resource) {\n          return resource.key.indexOf(query) >= 0;\n        });\n      }\n\n      // Passing All Filtered Resources to Modal - Pagination will be applied\n      return {\n        'totalCount': filteredResources.length,\n        'rows': filteredResources\n      };\n    }\n\n    self.nodeResources = undefined;\n    this.showSelectionModal(\"resources\", {\n      'Label': 'label',\n      'Name': 'name'\n    }, function (query) {\n      if (self.nodeResources !== undefined) {\n        var deferred = self.$q.defer();\n        deferred.resolve(filterResources(self.nodeResources, query));\n        return deferred.promise;\n      }\n\n      return self.datasource.getResourcesWithAttributesForNode(self.target.nodeId)\n        .then(function (resources) {\n          // Compute a key for more efficient searching\n          _.each(resources, function (resource) {\n            resource.key = resource.label.toLowerCase() + resource.name.toLowerCase();\n          });\n          // Sort the list once\n          self.nodeResources = _.sortBy(resources, function (resource) {\n            return resource.label;\n          });\n          // Filter\n          return filterResources(self.nodeResources, query);\n        });\n    }, function (resource) {\n      // Exclude the node portion of the resource id\n      var re = /node(Source)?\\[.*?]\\.(.*)$/;\n      var match = re.exec(resource.id);\n      self.target.resourceId = match[2];\n      self.targetBlur('resourceId');\n    });\n  }\n\n  openAttributeSelectionModal(prop) {\n    var self = this;\n\n    if (!prop) {\n      prop = 'attribute';\n    }\n\n    this.showSelectionModal(\"attributes\", {\n      'Name': 'name'\n    }, function (query) {\n      return self.datasource\n        .suggestAttributes(self.target.nodeId, self.target.resourceId, query)\n        .then(function (attributes) {\n          var namedAttributes = [];\n          _.each(attributes, function (attribute) {\n            namedAttributes.push({'name': attribute});\n          });\n\n          return {\n            'totalCount': namedAttributes.length,\n            'rows': namedAttributes\n          };\n        });\n    }, function (attribute) {\n      self.target[prop] = attribute.name;\n      self.targetBlur(prop);\n    });\n  }\n\n  openFilterSelectionModal() {\n    var self = this;\n    this.showSelectionModal(\"filters\", {\n      'Name': 'name',\n      'Description': 'description',\n      'Backend': 'backend'\n    }, function () {\n      return self.datasource\n        .getAvailableFilters()\n        .then(function (results) {\n          return {\n            'totalCount': results.data.length,\n            'rows': results.data\n          };\n        });\n    }, function (filter) {\n      self.target.filter = filter;\n      self.targetBlur('filter');\n    });\n  }\n\n  showSelectionModal(label, columns, search, callback) {\n    var scope = this.$rootScope.$new();\n\n    scope.label = label;\n    scope.columns = columns;\n    scope.search = search;\n\n    scope.result = this.$q.defer();\n    scope.result.promise.then(callback);\n\n    var modal = this.$modal({\n      template: 'public/plugins/opennms-helm-app/datasources/perf-ds/partials/modal.selection.html',\n      persist: false,\n      show: false,\n      scope: scope,\n      keyboard: false\n    });\n    return this.$q.when(modal).then((modalEl) => {\n      return modalEl.modal('show');\n    });\n  }\n\n  targetBlur(targetId, required) {\n    if (required === undefined) {\n      required = true;\n    }\n    var errorMessage = this.validateTarget(targetId, required);\n    if (errorMessage) {\n      appEvents.emit('alert-error', ['Error', errorMessage]);\n      this.error = errorMessage;\n    } else {\n      // Only send valid requests to the API\n      this.refresh();\n    }\n  }\n\n  validateTarget(targetId, required) {\n    // console.log('validateTarget(' + targetId + ',' + required + ')', this.target);\n    if (this.target.type === QueryType.Attribute || this.target.type === QueryType.Expression) {\n      var messages = {\n        'nodeId': \"You must supply a node id.\",\n        'resourceId': \"You must supply a resource id.\",\n        'attribute': \"You must supply an attribute.\",\n        'expression': \"You must supply an expression.\",\n        'label': \"You must supply a label.\"\n      };\n      if (required && targetId in messages && !this.target[targetId]) {\n        return messages[targetId];\n      } else if (required && !this.target[targetId]) {\n        // Fallback error message if the targetId doesn't have a specific message defined\n        return targetId + ' is a required field.';\n      }\n    } else if (this.target.type === QueryType.Filter) {\n      if (targetId === 'filterName') {\n        if (!this.target.filter || this.target.filter && (!this.target.filter.name || this.target.filter.name.trim().length === 0)) {\n          return \"You must select a filter.\";\n        }\n      } else if (targetId !== 'type' && required && (!this.target.filterParameters || !(targetId in this.target.filterParameters) || !this.target.filterParameters[targetId])) {\n        return targetId + ' is a required field.';\n      }\n    }\n    return null;\n  }\n\n  getCollapsedText() {\n    if (this.target.type === QueryType.Attribute) {\n      return \"Attribute: \" + this.target.attribute;\n    } else if (this.target.type === QueryType.Expression) {\n      return \"Expression: \" + this.target.label;\n    } else if (this.target.type === QueryType.Filter) {\n      return \"Filter: \" + this.target.filter.name;\n    } else {\n      return \"<Incomplete>\";\n    }\n  }\n}\n\nOpenNMSQueryCtrl.templateUrl = 'datasources/perf-ds/partials/query.editor.html';\n","import {OpenNMSDatasource} from './datasource';\nimport {OpenNMSQueryCtrl} from './query_ctrl';\nimport {loadPluginCss} from 'app/plugins/sdk';\nimport '../../components/timeout';\n\nclass GenericConfigCtrl {}\nGenericConfigCtrl.templateUrl = 'datasources/perf-ds/partials/config.html';\n\nclass GenericQueryOptionsCtrl {}\nGenericQueryOptionsCtrl.templateUrl = 'datasources/perf-ds/partials/query.options.html';\n\nloadPluginCss({\n  dark: 'plugins/opennms-helm-app/datasources/perf-ds/css/opennms.dark.css',\n  light: 'plugins/opennms-helm-app/datasources/perf-ds/css/opennms.light.css'\n});\n\nexport {\n  OpenNMSDatasource as Datasource,\n  OpenNMSQueryCtrl as QueryCtrl,\n  GenericConfigCtrl as ConfigCtrl,\n  GenericQueryOptionsCtrl as QueryOptionsCtrl\n};\n"],"sourceRoot":""}