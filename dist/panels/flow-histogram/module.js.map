{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"lodash\"","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///external \"app/plugins/sdk\"","webpack:///external \"jquery\"","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///external \"moment\"","webpack:///external \"jquery.flot\"","webpack:///external \"jquery.flot.selection\"","webpack:///external \"jquery.flot.crosshair\"","webpack:///./node_modules/flot/jquery.flot.categories.js","webpack:///external \"jquery.flot.time\"","webpack:///external \"jquery.flot.stack\"","webpack:///./node_modules/flot-axislabels/jquery.flot.axislabels.js","webpack:///./src/panels/flow-histogram/ctrl.js","webpack:///./src/panels/flow-histogram/module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","self","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_typeof","assertThisInitialized","subClass","superClass","constructor","__WEBPACK_EXTERNAL_MODULE__8__","__WEBPACK_EXTERNAL_MODULE__9__","_typeof2","obj","iterator","_setPrototypeOf","__WEBPACK_EXTERNAL_MODULE__24__","__WEBPACK_EXTERNAL_MODULE__33__","__WEBPACK_EXTERNAL_MODULE__34__","__WEBPACK_EXTERNAL_MODULE__35__","$","processRawData","plot","series","data","datapoints","xCategories","xaxis","options","yCategories","yaxis","format","push","x","number","required","y","bars","show","lines","fill","autoscale","zero","defaultValue","horizontal","categoriesTickGenerator","axis","res","label","categories","v","min","max","sort","a","b","setupCategoriesForAxis","isArray","ticks","points","ps","pointsize","formatColumn","charAt","index","getNextIndex","val","transformPointsOnAxis","processDatapoints","plugins","init","hooks","version","jQuery","__WEBPACK_EXTERNAL_MODULE__60__","__WEBPACK_EXTERNAL_MODULE__61__","canvasTextSupported","document","createElement","getContext","fillText","css3TransitionSupported","div","style","MozTransition","OTransition","webkitTransition","transition","AxisLabel","axisName","position","padding","opts","this","width","height","CanvasAxisLabel","HtmlAxisLabel","elem","CssTransformAxisLabel","IeTransformAxisLabel","requiresResize","cleanup","calculateSize","axisLabelFontSizePixels","axisLabelFontFamily","draw","box","axisLabelColour","ctx","getCanvas","save","textAlign","font","fillStyle","measureText","axisLabel","angle","left","top","Math","PI","translate","rotate","restore","getPlaceholder","append","labelWidth","outerWidth","labelHeight","outerHeight","remove","find","css","transforms","degrees","stransforms","stdTranslate","stdRotate","prop","calculateOffsets","offsets","round","rotation","processOptions","axisLabels","secondPass","hasAxisLabels","each","getAxes","getOptions","renderer","axisLabelUseHtml","navigator","appName","axisLabelUseCanvas","ua","userAgent","RegExp","exec","rv","parseFloat","$1","undefined","axisLabelPadding","setupGrid","HelmHistogramCtrl","$scope","$injector","$timeout","$rootScope","scope","categoriesPluginIdx","_","findIndex","plugin","stackPluginIdx","stackPlugin","defaults","panel","direction","units","display","legend","sideWidth","bottomHeight","legendType","aliasColors","_renderRetries","typeChanged","hiddenSeries","retryTimes","retryDelay","events","on","onInitEditMode","onDataReceived","onDataError","onRender","setLegendWidthForLegacyBrowser","attrs","ctrl","addEditorTab","unitInfo","getUnits","labeledValues","getLabeledValues","getSeries","divisor","setData","render","empty","row","isString","parseInt","replace","console","log","getLegendHeight","plotCanvas","plotCss","margin","html","setTimeout","renderChart","seriesData","noDataPoints","labelFunc","dataElement","vars","metric","column","indexOf","inByLabel","extractValueAndLabel","toBits","outByLabel","timeRangeInSeconds","moment","duration","range","to","diff","from","asSeconds","map","element","values","generateResultObject","barWidth","align","lineWidth","stack","axisSettings","tickLength","autoscaleMargin","axisLabelSetting","grid","borderWidth","xaxes","yaxes","dataFromSeries","getData","inSeriesData","color","getColorForSeriesIndex","dataIn","outSeriesData","dataOut","getDataStacked","stackedSeriesData","seriesIndex","keys","item","getSeriesData","legendData","getLegendData","serie","colors","window","MSInputMethodContext","documentMode","j","count","perHostData","valueColumn","columns","e","text","toLowerCase","valueColumnIndex","rows","forEach","panelUnits","defaultTo","MetricsPanelCtrl","templateUrl","loadPluginCss","dark","light"],"mappings":"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","file":"panels/flow-histogram/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 68);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","module.exports = __WEBPACK_EXTERNAL_MODULE__34__;","module.exports = __WEBPACK_EXTERNAL_MODULE__35__;","/* Flot plugin for plotting textual data or categories.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nConsider a dataset like [[\"February\", 34], [\"March\", 20], ...]. This plugin\nallows you to plot such a dataset directly.\n\nTo enable it, you must specify mode: \"categories\" on the axis with the textual\nlabels, e.g.\n\n\t$.plot(\"#placeholder\", data, { xaxis: { mode: \"categories\" } });\n\nBy default, the labels are ordered as they are met in the data series. If you\nneed a different ordering, you can specify \"categories\" on the axis options\nand list the categories there:\n\n\txaxis: {\n\t\tmode: \"categories\",\n\t\tcategories: [\"February\", \"March\", \"April\"]\n\t}\n\nIf you need to customize the distances between the categories, you can specify\n\"categories\" as an object mapping labels to values\n\n\txaxis: {\n\t\tmode: \"categories\",\n\t\tcategories: { \"February\": 1, \"March\": 3, \"April\": 4 }\n\t}\n\nIf you don't specify all categories, the remaining categories will be numbered\nfrom the max value plus 1 (with a spacing of 1 between each).\n\nInternally, the plugin works by transforming the input data through an auto-\ngenerated mapping where the first category becomes 0, the second 1, etc.\nHence, a point like [\"February\", 34] becomes [0, 34] internally in Flot (this\nis visible in hover and click events that return numbers rather than the\ncategory labels). The plugin also overrides the tick generator to spit out the\ncategories as ticks instead of the values.\n\nIf you need to map a value back to its label, the mapping is always accessible\nas \"categories\" on the axis object, e.g. plot.getAxes().xaxis.categories.\n\n*/\n\n(function ($) {\n    var options = {\n        xaxis: {\n            categories: null\n        },\n        yaxis: {\n            categories: null\n        }\n    };\n    \n    function processRawData(plot, series, data, datapoints) {\n        // if categories are enabled, we need to disable\n        // auto-transformation to numbers so the strings are intact\n        // for later processing\n\n        var xCategories = series.xaxis.options.mode == \"categories\",\n            yCategories = series.yaxis.options.mode == \"categories\";\n        \n        if (!(xCategories || yCategories))\n            return;\n\n        var format = datapoints.format;\n\n        if (!format) {\n            // FIXME: auto-detection should really not be defined here\n            var s = series;\n            format = [];\n            format.push({ x: true, number: true, required: true });\n            format.push({ y: true, number: true, required: true });\n\n            if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                var autoscale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                format.push({ y: true, number: true, required: false, defaultValue: 0, autoscale: autoscale });\n                if (s.bars.horizontal) {\n                    delete format[format.length - 1].y;\n                    format[format.length - 1].x = true;\n                }\n            }\n            \n            datapoints.format = format;\n        }\n\n        for (var m = 0; m < format.length; ++m) {\n            if (format[m].x && xCategories)\n                format[m].number = false;\n            \n            if (format[m].y && yCategories)\n                format[m].number = false;\n        }\n    }\n\n    function getNextIndex(categories) {\n        var index = -1;\n        \n        for (var v in categories)\n            if (categories[v] > index)\n                index = categories[v];\n\n        return index + 1;\n    }\n\n    function categoriesTickGenerator(axis) {\n        var res = [];\n        for (var label in axis.categories) {\n            var v = axis.categories[label];\n            if (v >= axis.min && v <= axis.max)\n                res.push([v, label]);\n        }\n\n        res.sort(function (a, b) { return a[0] - b[0]; });\n\n        return res;\n    }\n    \n    function setupCategoriesForAxis(series, axis, datapoints) {\n        if (series[axis].options.mode != \"categories\")\n            return;\n        \n        if (!series[axis].categories) {\n            // parse options\n            var c = {}, o = series[axis].options.categories || {};\n            if ($.isArray(o)) {\n                for (var i = 0; i < o.length; ++i)\n                    c[o[i]] = i;\n            }\n            else {\n                for (var v in o)\n                    c[v] = o[v];\n            }\n            \n            series[axis].categories = c;\n        }\n\n        // fix ticks\n        if (!series[axis].options.ticks)\n            series[axis].options.ticks = categoriesTickGenerator;\n\n        transformPointsOnAxis(datapoints, axis, series[axis].categories);\n    }\n    \n    function transformPointsOnAxis(datapoints, axis, categories) {\n        // go through the points, transforming them\n        var points = datapoints.points,\n            ps = datapoints.pointsize,\n            format = datapoints.format,\n            formatColumn = axis.charAt(0),\n            index = getNextIndex(categories);\n\n        for (var i = 0; i < points.length; i += ps) {\n            if (points[i] == null)\n                continue;\n            \n            for (var m = 0; m < ps; ++m) {\n                var val = points[i + m];\n\n                if (val == null || !format[m][formatColumn])\n                    continue;\n\n                if (!(val in categories)) {\n                    categories[val] = index;\n                    ++index;\n                }\n                \n                points[i + m] = categories[val];\n            }\n        }\n    }\n\n    function processDatapoints(plot, series, datapoints) {\n        setupCategoriesForAxis(series, \"xaxis\", datapoints);\n        setupCategoriesForAxis(series, \"yaxis\", datapoints);\n    }\n\n    function init(plot) {\n        plot.hooks.processRawData.push(processRawData);\n        plot.hooks.processDatapoints.push(processDatapoints);\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'categories',\n        version: '1.0'\n    });\n})(jQuery);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__60__;","module.exports = __WEBPACK_EXTERNAL_MODULE__61__;","/*\nAxis Labels Plugin for flot.\nhttp://github.com/markrcote/flot-axislabels\n\nOriginal code is Copyright (c) 2010 Xuan Luo.\nOriginal code was released under the GPLv3 license by Xuan Luo, September 2010.\nOriginal code was rereleased under the MIT license by Xuan Luo, April 2012.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n(function ($) {\n    var options = {\n      axisLabels: {\n        show: true\n      }\n    };\n\n    function canvasSupported() {\n        return !!document.createElement('canvas').getContext;\n    }\n\n    function canvasTextSupported() {\n        if (!canvasSupported()) {\n            return false;\n        }\n        var dummy_canvas = document.createElement('canvas');\n        var context = dummy_canvas.getContext('2d');\n        return typeof context.fillText == 'function';\n    }\n\n    function css3TransitionSupported() {\n        var div = document.createElement('div');\n        return typeof div.style.MozTransition != 'undefined'    // Gecko\n            || typeof div.style.OTransition != 'undefined'      // Opera\n            || typeof div.style.webkitTransition != 'undefined' // WebKit\n            || typeof div.style.transition != 'undefined';\n    }\n\n\n    function AxisLabel(axisName, position, padding, plot, opts) {\n        this.axisName = axisName;\n        this.position = position;\n        this.padding = padding;\n        this.plot = plot;\n        this.opts = opts;\n        this.width = 0;\n        this.height = 0;\n    }\n\n    AxisLabel.prototype.cleanup = function() {\n    };\n\n\n    CanvasAxisLabel.prototype = new AxisLabel();\n    CanvasAxisLabel.prototype.constructor = CanvasAxisLabel;\n    function CanvasAxisLabel(axisName, position, padding, plot, opts) {\n        AxisLabel.prototype.constructor.call(this, axisName, position, padding,\n                                             plot, opts);\n    }\n\n    CanvasAxisLabel.prototype.calculateSize = function() {\n        if (!this.opts.axisLabelFontSizePixels)\n            this.opts.axisLabelFontSizePixels = 14;\n        if (!this.opts.axisLabelFontFamily)\n            this.opts.axisLabelFontFamily = 'sans-serif';\n\n        var textWidth = this.opts.axisLabelFontSizePixels + this.padding;\n        var textHeight = this.opts.axisLabelFontSizePixels + this.padding;\n        if (this.position == 'left' || this.position == 'right') {\n            this.width = this.opts.axisLabelFontSizePixels + this.padding;\n            this.height = 0;\n        } else {\n            this.width = 0;\n            this.height = this.opts.axisLabelFontSizePixels + this.padding;\n        }\n    };\n\n    CanvasAxisLabel.prototype.draw = function(box) {\n        if (!this.opts.axisLabelColour)\n            this.opts.axisLabelColour = 'black';\n        var ctx = this.plot.getCanvas().getContext('2d');\n        ctx.save();\n        ctx.textAlign=\"left\";\n        ctx.font = this.opts.axisLabelFontSizePixels + 'px ' +\n            this.opts.axisLabelFontFamily;\n        ctx.fillStyle = this.opts.axisLabelColour;\n        var width = ctx.measureText(this.opts.axisLabel).width;\n        var height = this.opts.axisLabelFontSizePixels;\n        var x, y, angle = 0;\n        if (this.position == 'top') {\n            x = box.left + box.width/2 - width/2;\n            y = box.top + height*0.72;\n        } else if (this.position == 'bottom') {\n            x = box.left + box.width/2 - width/2;\n            y = box.top + box.height - height*0.72;\n        } else if (this.position == 'left') {\n            x = box.left + height*0.72;\n            y = box.height/2 + box.top + width/2;\n            angle = -Math.PI/2;\n        } else if (this.position == 'right') {\n            x = box.left + box.width - height*0.72;\n            y = box.height/2 + box.top - width/2;\n            angle = Math.PI/2;\n        }\n        ctx.translate(x, y);\n        ctx.rotate(angle);\n        ctx.fillText(this.opts.axisLabel, 0, 0);\n        ctx.restore();\n    };\n\n\n    HtmlAxisLabel.prototype = new AxisLabel();\n    HtmlAxisLabel.prototype.constructor = HtmlAxisLabel;\n    function HtmlAxisLabel(axisName, position, padding, plot, opts) {\n        AxisLabel.prototype.constructor.call(this, axisName, position,\n                                             padding, plot, opts);\n        this.elem = null;\n    }\n\n    HtmlAxisLabel.prototype.calculateSize = function() {\n        var elem = $('<div class=\"axisLabels\" style=\"position:absolute;\">' +\n                     this.opts.axisLabel + '</div>');\n        this.plot.getPlaceholder().append(elem);\n        // store height and width of label itself, for use in draw()\n        this.labelWidth = elem.outerWidth(true);\n        this.labelHeight = elem.outerHeight(true);\n        elem.remove();\n\n        this.width = this.height = 0;\n        if (this.position == 'left' || this.position == 'right') {\n            this.width = this.labelWidth + this.padding;\n        } else {\n            this.height = this.labelHeight + this.padding;\n        }\n    };\n\n    HtmlAxisLabel.prototype.cleanup = function() {\n        if (this.elem) {\n            this.elem.remove();\n        }\n    };\n\n    HtmlAxisLabel.prototype.draw = function(box) {\n        this.plot.getPlaceholder().find('#' + this.axisName + 'Label').remove();\n        this.elem = $('<div id=\"' + this.axisName +\n                      'Label\" \" class=\"axisLabels\" style=\"position:absolute;\">'\n                      + this.opts.axisLabel + '</div>');\n        this.plot.getPlaceholder().append(this.elem);\n        if (this.position == 'top') {\n            this.elem.css('left', box.left + box.width/2 - this.labelWidth/2 +\n                          'px');\n            this.elem.css('top', box.top + 'px');\n        } else if (this.position == 'bottom') {\n            this.elem.css('left', box.left + box.width/2 - this.labelWidth/2 +\n                          'px');\n            this.elem.css('top', box.top + box.height - this.labelHeight +\n                          'px');\n        } else if (this.position == 'left') {\n            this.elem.css('top', box.top + box.height/2 - this.labelHeight/2 +\n                          'px');\n            this.elem.css('left', box.left + 'px');\n        } else if (this.position == 'right') {\n            this.elem.css('top', box.top + box.height/2 - this.labelHeight/2 +\n                          'px');\n            this.elem.css('left', box.left + box.width - this.labelWidth +\n                          'px');\n        }\n    };\n\n\n    CssTransformAxisLabel.prototype = new HtmlAxisLabel();\n    CssTransformAxisLabel.prototype.constructor = CssTransformAxisLabel;\n    function CssTransformAxisLabel(axisName, position, padding, plot, opts) {\n        HtmlAxisLabel.prototype.constructor.call(this, axisName, position,\n                                                 padding, plot, opts);\n    }\n\n    CssTransformAxisLabel.prototype.calculateSize = function() {\n        HtmlAxisLabel.prototype.calculateSize.call(this);\n        this.width = this.height = 0;\n        if (this.position == 'left' || this.position == 'right') {\n            this.width = this.labelHeight + this.padding;\n        } else {\n            this.height = this.labelHeight + this.padding;\n        }\n    };\n\n    CssTransformAxisLabel.prototype.transforms = function(degrees, x, y) {\n        var stransforms = {\n            '-moz-transform': '',\n            '-webkit-transform': '',\n            '-o-transform': '',\n            '-ms-transform': ''\n        };\n        if (x != 0 || y != 0) {\n            var stdTranslate = ' translate(' + x + 'px, ' + y + 'px)';\n            stransforms['-moz-transform'] += stdTranslate;\n            stransforms['-webkit-transform'] += stdTranslate;\n            stransforms['-o-transform'] += stdTranslate;\n            stransforms['-ms-transform'] += stdTranslate;\n        }\n        if (degrees != 0) {\n            var rotation = degrees / 90;\n            var stdRotate = ' rotate(' + degrees + 'deg)';\n            stransforms['-moz-transform'] += stdRotate;\n            stransforms['-webkit-transform'] += stdRotate;\n            stransforms['-o-transform'] += stdRotate;\n            stransforms['-ms-transform'] += stdRotate;\n        }\n        var s = 'top: 0; left: 0; ';\n        for (var prop in stransforms) {\n            if (stransforms[prop]) {\n                s += prop + ':' + stransforms[prop] + ';';\n            }\n        }\n        s += ';';\n        return s;\n    };\n\n    CssTransformAxisLabel.prototype.calculateOffsets = function(box) {\n        var offsets = { x: 0, y: 0, degrees: 0 };\n        if (this.position == 'bottom') {\n            offsets.x = box.left + box.width/2 - this.labelWidth/2;\n            offsets.y = box.top + box.height - this.labelHeight;\n        } else if (this.position == 'top') {\n            offsets.x = box.left + box.width/2 - this.labelWidth/2;\n            offsets.y = box.top;\n        } else if (this.position == 'left') {\n            offsets.degrees = -90;\n            offsets.x = box.left - this.labelWidth/2 + this.labelHeight/2;\n            offsets.y = box.height/2 + box.top;\n        } else if (this.position == 'right') {\n            offsets.degrees = 90;\n            offsets.x = box.left + box.width - this.labelWidth/2\n                        - this.labelHeight/2;\n            offsets.y = box.height/2 + box.top;\n        }\n        offsets.x = Math.round(offsets.x);\n        offsets.y = Math.round(offsets.y);\n\n        return offsets;\n    };\n\n    CssTransformAxisLabel.prototype.draw = function(box) {\n        this.plot.getPlaceholder().find(\".\" + this.axisName + \"Label\").remove();\n        var offsets = this.calculateOffsets(box);\n        this.elem = $('<div class=\"axisLabels ' + this.axisName +\n                      'Label\" style=\"position:absolute; ' +\n                      this.transforms(offsets.degrees, offsets.x, offsets.y) +\n                      '\">' + this.opts.axisLabel + '</div>');\n        this.plot.getPlaceholder().append(this.elem);\n    };\n\n\n    IeTransformAxisLabel.prototype = new CssTransformAxisLabel();\n    IeTransformAxisLabel.prototype.constructor = IeTransformAxisLabel;\n    function IeTransformAxisLabel(axisName, position, padding, plot, opts) {\n        CssTransformAxisLabel.prototype.constructor.call(this, axisName,\n                                                         position, padding,\n                                                         plot, opts);\n        this.requiresResize = false;\n    }\n\n    IeTransformAxisLabel.prototype.transforms = function(degrees, x, y) {\n        // I didn't feel like learning the crazy Matrix stuff, so this uses\n        // a combination of the rotation transform and CSS positioning.\n        var s = '';\n        if (degrees != 0) {\n            var rotation = degrees/90;\n            while (rotation < 0) {\n                rotation += 4;\n            }\n            s += ' filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=' + rotation + '); ';\n            // see below\n            this.requiresResize = (this.position == 'right');\n        }\n        if (x != 0) {\n            s += 'left: ' + x + 'px; ';\n        }\n        if (y != 0) {\n            s += 'top: ' + y + 'px; ';\n        }\n        return s;\n    };\n\n    IeTransformAxisLabel.prototype.calculateOffsets = function(box) {\n        var offsets = CssTransformAxisLabel.prototype.calculateOffsets.call(\n                          this, box);\n        // adjust some values to take into account differences between\n        // CSS and IE rotations.\n        if (this.position == 'top') {\n            // FIXME: not sure why, but placing this exactly at the top causes\n            // the top axis label to flip to the bottom...\n            offsets.y = box.top + 1;\n        } else if (this.position == 'left') {\n            offsets.x = box.left;\n            offsets.y = box.height/2 + box.top - this.labelWidth/2;\n        } else if (this.position == 'right') {\n            offsets.x = box.left + box.width - this.labelHeight;\n            offsets.y = box.height/2 + box.top - this.labelWidth/2;\n        }\n        return offsets;\n    };\n\n    IeTransformAxisLabel.prototype.draw = function(box) {\n        CssTransformAxisLabel.prototype.draw.call(this, box);\n        if (this.requiresResize) {\n            this.elem = this.plot.getPlaceholder().find(\".\" + this.axisName +\n                                                        \"Label\");\n            // Since we used CSS positioning instead of transforms for\n            // translating the element, and since the positioning is done\n            // before any rotations, we have to reset the width and height\n            // in case the browser wrapped the text (specifically for the\n            // y2axis).\n            this.elem.css('width', this.labelWidth);\n            this.elem.css('height', this.labelHeight);\n        }\n    };\n\n\n    function init(plot) {\n        plot.hooks.processOptions.push(function (plot, options) {\n\n            if (!options.axisLabels.show)\n                return;\n\n            // This is kind of a hack. There are no hooks in Flot between\n            // the creation and measuring of the ticks (setTicks, measureTickLabels\n            // in setupGrid() ) and the drawing of the ticks and plot box\n            // (insertAxisLabels in setupGrid() ).\n            //\n            // Therefore, we use a trick where we run the draw routine twice:\n            // the first time to get the tick measurements, so that we can change\n            // them, and then have it draw it again.\n            var secondPass = false;\n\n            var axisLabels = {};\n            var axisOffsetCounts = { left: 0, right: 0, top: 0, bottom: 0 };\n\n            var defaultPadding = 2;  // padding between axis and tick labels\n            plot.hooks.draw.push(function (plot, ctx) {\n                var hasAxisLabels = false;\n                if (!secondPass) {\n                    // MEASURE AND SET OPTIONS\n                    $.each(plot.getAxes(), function(axisName, axis) {\n                        var opts = axis.options // Flot 0.7\n                            || plot.getOptions()[axisName]; // Flot 0.6\n\n                        // Handle redraws initiated outside of this plug-in.\n                        if (axisName in axisLabels) {\n                            axis.labelHeight = axis.labelHeight -\n                                axisLabels[axisName].height;\n                            axis.labelWidth = axis.labelWidth -\n                                axisLabels[axisName].width;\n                            opts.labelHeight = axis.labelHeight;\n                            opts.labelWidth = axis.labelWidth;\n                            axisLabels[axisName].cleanup();\n                            delete axisLabels[axisName];\n                        }\n\n                        if (!opts || !opts.axisLabel || !axis.show)\n                            return;\n\n                        hasAxisLabels = true;\n                        var renderer = null;\n\n                        if (!opts.axisLabelUseHtml &&\n                            navigator.appName == 'Microsoft Internet Explorer') {\n                            var ua = navigator.userAgent;\n                            var re  = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n                            if (re.exec(ua) != null) {\n                                rv = parseFloat(RegExp.$1);\n                            }\n                            if (rv >= 9 && !opts.axisLabelUseCanvas && !opts.axisLabelUseHtml) {\n                                renderer = CssTransformAxisLabel;\n                            } else if (!opts.axisLabelUseCanvas && !opts.axisLabelUseHtml) {\n                                renderer = IeTransformAxisLabel;\n                            } else if (opts.axisLabelUseCanvas) {\n                                renderer = CanvasAxisLabel;\n                            } else {\n                                renderer = HtmlAxisLabel;\n                            }\n                        } else {\n                            if (opts.axisLabelUseHtml || (!css3TransitionSupported() && !canvasTextSupported()) && !opts.axisLabelUseCanvas) {\n                                renderer = HtmlAxisLabel;\n                            } else if (opts.axisLabelUseCanvas || !css3TransitionSupported()) {\n                                renderer = CanvasAxisLabel;\n                            } else {\n                                renderer = CssTransformAxisLabel;\n                            }\n                        }\n\n                        var padding = opts.axisLabelPadding === undefined ?\n                                      defaultPadding : opts.axisLabelPadding;\n\n                        axisLabels[axisName] = new renderer(axisName,\n                                                            axis.position, padding,\n                                                            plot, opts);\n\n                        // flot interprets axis.labelHeight and .labelWidth as\n                        // the height and width of the tick labels. We increase\n                        // these values to make room for the axis label and\n                        // padding.\n\n                        axisLabels[axisName].calculateSize();\n\n                        // AxisLabel.height and .width are the size of the\n                        // axis label and padding.\n                        // Just set opts here because axis will be sorted out on\n                        // the redraw.\n\n                        opts.labelHeight = axis.labelHeight +\n                            axisLabels[axisName].height;\n                        opts.labelWidth = axis.labelWidth +\n                            axisLabels[axisName].width;\n                    });\n\n                    // If there are axis labels, re-draw with new label widths and\n                    // heights.\n\n                    if (hasAxisLabels) {\n                        secondPass = true;\n                        plot.setupGrid();\n                        plot.draw();\n                    }\n                } else {\n                    secondPass = false;\n                    // DRAW\n                    $.each(plot.getAxes(), function(axisName, axis) {\n                        var opts = axis.options // Flot 0.7\n                            || plot.getOptions()[axisName]; // Flot 0.6\n                        if (!opts || !opts.axisLabel || !axis.show)\n                            return;\n\n                        axisLabels[axisName].draw(axis.box);\n                    });\n                }\n            });\n        });\n    }\n\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'axisLabels',\n        version: '2.0'\n    });\n})(jQuery);\n","/*eslint no-unused-vars: \"warn\"*/\nimport {MetricsPanelCtrl} from \"app/plugins/sdk\";\nimport _ from \"lodash\";\nimport $ from \"jquery\";\nimport moment from \"moment\";\nimport \"jquery.flot\";\nimport \"jquery.flot.time\";\nimport \"jquery.flot.selection\";\nimport \"jquery.flot.crosshair\";\nimport \"jquery.flot.stack\";\nimport \"flot-axislabels/jquery.flot.axislabels\";\nimport \"flot/jquery.flot.categories\";\n\n\nclass HelmHistogramCtrl extends MetricsPanelCtrl {\n    /** @ngInject */\n    constructor($scope, $injector, $timeout, $rootScope) {\n        super($scope, $injector);\n        this.$rootScope = $rootScope;\n        this.scope = $scope;\n        this.$timeout = $timeout;\n\n        // We use both the 'stack' and 'categories' Flot plugins\n        // For these to work well together, we need the 'categories' plugin\n        // to be called *before* the stack plugin.\n        // Re-order them if necessary\n        const categoriesPluginIdx = _.findIndex($.plot.plugins, plugin => {\n            return plugin.name === 'categories';\n        });\n        const stackPluginIdx = _.findIndex($.plot.plugins, plugin => {\n            return plugin.name === 'stack';\n        });\n        if (categoriesPluginIdx >= 0 && stackPluginIdx >= 0 && categoriesPluginIdx > stackPluginIdx) {\n            // We found both plugins, and the categories plugin comes *after* the stack plugin, swap them\n            const stackPlugin = $.plot.plugins[stackPluginIdx];\n            $.plot.plugins[stackPluginIdx] = $.plot.plugins[categoriesPluginIdx];\n            $.plot.plugins[categoriesPluginIdx] = stackPlugin;\n        }\n\n        _.defaults(this.panel, {\n            direction: 'horizontal',\n            units: 'b',\n            display: 'total',\n            mode: 'separate',\n            legend: {\n                show: true,\n                sideWidth: 120,\n                bottomHeight: 42\n            },\n            legendType: 'Under graph',\n            aliasColors: []\n        });\n\n        this._renderRetries = 0;\n        this.typeChanged = false;\n        this.hiddenSeries = {};\n        this.retryTimes = 10; // number of times to retry\n        this.retryDelay = 100; // milliseconds, how long to wait to retry\n\n        this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n        this.events.on('data-received', this.onDataReceived.bind(this));\n        this.events.on('data-error', this.onDataError.bind(this));\n        this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n        this.events.on('render', this.onRender.bind(this));\n\n        this.setLegendWidthForLegacyBrowser();\n    }\n\n    link($scope, elem, attrs, ctrl) {\n        this.elem = elem.find('.flow-panel__chart');\n        this.ctrl = ctrl;\n    }\n\n    onInitEditMode() {\n        this.addEditorTab('Grouping', 'public/plugins/opennms-helm-app/panels/flow-histogram/editor.html', 2);\n    }\n\n    onDataReceived(data) {\n        // Adjust the values based on the units selected\n        if (data.length > 0) {\n            const unitInfo = HelmHistogramCtrl.getUnits(data, this.panel.units);\n            this.units = unitInfo.units;\n            const labeledValues = this.getLabeledValues(data);\n            this.series = this.getSeries(labeledValues, unitInfo.divisor);\n            this.setData();\n        }\n        this.render();\n    }\n\n    onDataError() {\n        this.series = [];\n        this.render();\n    }\n\n    onRender() {\n        this.elem.empty();\n\n        let height = this.ctrl.height || this.ctrl.panel.height || (this.ctrl.row && this.ctrl.row.height);\n        if (_.isString(height)) {\n            height = parseInt(height.replace('px', ''), 10);\n        }\n\n        if (this.elem.width() === 0 || height === 0 || height === undefined) {\n            if (this._renderRetries > this.retryTimes) {\n                console.log('onRender: still unable to determine height, and we ran out of retries');\n                return false;\n            }\n            this._renderRetries++;\n\n            console.log('onRender: unable to determine height, retrying again in ' + this.retryDelay + 'ms');\n            this.$timeout(() => {\n                this.onRender();\n            }, this.retryDelay);\n            return true;\n        }\n\n        height -= 8; // subtract for panel title bar\n        const legendHeight = this.getLegendHeight(height);\n        height -= legendHeight;\n\n        const plotCanvas = $('<div></div>');\n        const plotCss = {\n            margin: 'auto',\n            position: 'relative',\n            height: height + 'px',\n        };\n        this.elem.html(plotCanvas);\n        plotCanvas.css(plotCss);\n\n        if (this.panel.legendType === 'Right side' || this.typeChanged) {\n            // Schedule to be called back to ensure we render after the legend renders for proper layout\n            setTimeout(() => this.renderChart(plotCanvas), 0);\n            this.typeChanged = false;\n        } else {\n            this.renderChart(plotCanvas);\n        }\n    }\n\n    renderChart(plotCanvas) {\n        if (!this.series || this.series.length === 0) {\n            this.noDataPoints()\n        } else {\n            if(plotCanvas.height() > 0 && plotCanvas.width() > 0) {\n                const options = this.getOptions();\n                this.setData();\n                $.plot(plotCanvas, this.seriesData, options);\n            }\n        }\n    }\n\n    getLabeledValues(data) {\n        const dataElement = data[0];\n        let labelFunc;\n\n        switch (dataElement.vars.metric) {\n            case 'applications':\n                labelFunc = (column, row) => {\n                    return row[column.indexOf('application')];\n                };\n                break;\n            case 'hosts':\n                labelFunc = (column, row) => {\n                    return row[column.indexOf('host')];\n                };\n                break;\n            case 'conversations':\n                labelFunc = (column, row) => {\n                    return row[column.indexOf('source')] + ' <-> ' +\n                        row[column.indexOf('dest.')] + ' [' + row[column.indexOf('application')] + ']';\n                };\n                break;\n        }\n\n        let inByLabel = HelmHistogramCtrl.extractValueAndLabel(data, dataElement.vars.toBits ? 'Bits In' : 'Bytes In',\n            'In', labelFunc);\n        let outByLabel = HelmHistogramCtrl.extractValueAndLabel(data, dataElement.vars.toBits ? 'Bits Out' : 'Bytes Out',\n            'Out', labelFunc);\n\n        // Map the values to rates (average over the given time interval) if selected\n        if (this.panel.display === 'rate') {\n            this.units += '/s';\n            let timeRangeInSeconds = moment.duration(this.range.to.diff(this.range.from)).asSeconds();\n            inByLabel = _.map(inByLabel, (element) => {\n                return {\n                    key: element.key,\n                    value: element.value / timeRangeInSeconds\n                };\n            });\n\n            outByLabel = _.map(outByLabel, (element) => {\n                return {\n                    key: element.key,\n                    value: element.value / timeRangeInSeconds\n                };\n            });\n        }\n\n        return {\n            inByLabel: inByLabel,\n            outByLabel: outByLabel\n        }\n    }\n\n    getSeries(values, divisor) {\n        const inColor = '#86B15B';\n        const outColor = '#DB4345';\n\n        let series = [];\n\n        switch (this.panel.direction) {\n            case 'horizontal':\n                for (let i = values.inByLabel.length - 1; i >= 0; i--) {\n                    series.push(HelmHistogramCtrl.generateResultObject(values.outByLabel, i, divisor, outColor));\n                    series.push(HelmHistogramCtrl.generateResultObject(values.inByLabel, i, divisor, inColor));\n                }\n                break;\n            case 'vertical':\n                for (let i = 0; i < values.inByLabel.length; i++) {\n                    series.push(HelmHistogramCtrl.generateResultObject(values.inByLabel, i, divisor, inColor));\n                    series.push(HelmHistogramCtrl.generateResultObject(values.outByLabel, i, divisor, outColor));\n\n                }\n                break;\n        }\n\n        return series;\n    }\n\n    getOptions() {\n        // Set up the graph settings\n        const series = {\n            bars: {\n                show: true,\n                barWidth: 0.6,\n                align: \"center\",\n                fill: 0.8,\n                lineWidth: 1.0\n            },\n            stack: this.panel.mode === 'stacked'\n        };\n\n        const axisSettings = {\n            mode: \"categories\",\n            tickLength: 0,\n            autoscaleMargin: .02\n        };\n\n        const axisLabelSetting = [{\n            axisLabel: this.units\n        }];\n\n        const options = {\n            legend: {\n                show: false\n            },\n            axisLabels: {\n                show: true\n            },\n            series: series,\n            grid: {\n                borderWidth: 0,\n            }\n        };\n\n        switch (this.panel.direction) {\n            case 'horizontal':\n                options.xaxes = axisLabelSetting;\n                series.bars.horizontal = true;\n                options.yaxis = axisSettings;\n                break;\n\n            case 'vertical':\n                options.yaxes = axisLabelSetting;\n                series.bars.horizontal = false;\n                options.xaxis = axisSettings;\n                break;\n        }\n\n        return options;\n    }\n\n    getSeriesData(series, direction, mode) {\n        let dataFromSeries;\n\n        switch (mode) {\n            case 'separate': {\n                dataFromSeries = HelmHistogramCtrl.getData(this.series, this.panel.direction);\n                let inSeriesData = {\n                    label: \"In\",\n                    bars: {\n                        show: true,\n                        barWidth: 0.2,\n                    },\n                    color: this.getColorForSeriesIndex(0)\n                };\n\n                if (!this.hiddenSeries[0]) {\n                    inSeriesData.data = dataFromSeries.dataIn;\n                }\n\n                let outSeriesData = {\n                    label: \"Out\",\n                    bars: {\n                        show: true,\n                        barWidth: 0.2,\n                    },\n                    color: this.getColorForSeriesIndex(1)\n                };\n\n                if (!this.hiddenSeries[1]) {\n                    outSeriesData.data = dataFromSeries.dataOut;\n                }\n\n                switch (direction) {\n                    case 'horizontal':\n                        inSeriesData.bars.align = \"left\";\n                        outSeriesData.bars.align = \"right\";\n                        return [\n                            inSeriesData,\n                            outSeriesData\n                        ];\n                    case 'vertical':\n                        inSeriesData.bars.align = \"right\";\n                        outSeriesData.bars.align = \"left\";\n                        return [\n                            outSeriesData,\n                            inSeriesData\n                        ];\n                }\n                break;\n            }\n            case 'stacked': {\n                dataFromSeries = HelmHistogramCtrl.getDataStacked(this.series, this.panel.direction);\n                let stackedSeriesData = [];\n                let seriesIndex = 0;\n                for (const key of Object.keys(dataFromSeries)) {\n                    let item = {\n                        label: key,\n                        color: this.getColorForSeriesIndex(seriesIndex),\n                    };\n                    if (!this.hiddenSeries[seriesIndex++]) {\n                        item.data = dataFromSeries[key];\n                    }\n                    stackedSeriesData.push(item);\n                }\n\n                return stackedSeriesData;\n            }\n        }\n    }\n\n    setData() {\n        this.seriesData = this.getSeriesData(this.series, this.panel.direction, this.panel.mode);\n        this.legendData = this.getLegendData(this.seriesData, this.panel.direction, this.panel.mode);\n    }\n\n    getLegendData(seriesData, direction, mode) {\n        let seriesIndex = 0;\n        if (direction === 'vertical' && mode === 'separate') {\n            // In this case we need to reverse the order of the labels\n            let legendData = [];\n            for (let i = seriesData.length - 1; i >= 0; i--) {\n                let serie = seriesData[i];\n                legendData.push({\n                    label: serie.label,\n                    color: this.getColorForSeriesIndex(seriesIndex++)\n                });\n            }\n            return legendData;\n        }\n\n        return _.map(seriesData, (serie) => {\n            return {\n                label: serie.label,\n                color: this.getColorForSeriesIndex(seriesIndex++)\n            }\n        });\n    }\n\n    getColorForSeriesIndex(index) {\n        return this.panel.aliasColors[index] ? this.panel.aliasColors[index] : this.$rootScope.colors[index];\n    }\n\n    changeSeriesColor(index, color) {\n        this.panel.aliasColors[index] = color;\n        this.render();\n    }\n\n    toggleSeries(index) {\n        if (this.hiddenSeries[index]) {\n            delete this.hiddenSeries[index];\n        } else {\n            this.hiddenSeries[index] = true;\n        }\n        this.render();\n    }\n\n    onLegendTypeChanged() {\n        this.setLegendWidthForLegacyBrowser();\n        this.typeChanged = true;\n        this.render();\n    }\n\n    setLegendWidthForLegacyBrowser() {\n        const isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n        if (isIE11 && this.panel.legendType === 'Right side' && !this.panel.legend.sideWidth) {\n            this.panel.legend.sideWidth = 150;\n        }\n    }\n\n    getLegendHeight() {\n        if (!this.panel.legend.show || this.panel.legendType === 'Right side') {\n            return 0;\n        }\n\n        if (this.panel.legendType === 'Under graph') {\n            return this.panel.legend.bottomHeight;\n        }\n    }\n\n    noDataPoints() {\n        this.elem.html('<div class=\"datapoints-warning\"><span class=\"small\">No data points</span></div>');\n    }\n\n    static getData(series, direction) {\n        let dataIn = [];\n        let dataOut = [];\n\n        switch (direction) {\n            case 'horizontal':\n                for (let i = 0, j = 1; i < series.length - 1; i += 2, j += 2) {\n                    dataOut.push([series[i].count, series[i].name]);\n                    dataIn.push([series[j].count, series[j].name]);\n                }\n                break;\n            case 'vertical':\n                for (let i = 0, j = 1; i < series.length - 1; i += 2, j += 2) {\n                    dataIn.push([series[i].name, series[i].count]);\n                    dataOut.push([series[j].name, series[j].count]);\n                }\n                break;\n        }\n\n        return {\n            dataIn: dataIn,\n            dataOut: dataOut\n        };\n    }\n\n    static getDataStacked(series, direction) {\n        let perHostData = {};\n\n        switch (direction) {\n            case 'horizontal':\n                for (let i = series.length - 2, j = series.length - 1; i >= 0; i -= 2, j -= 2) {\n                    perHostData[series[i].name] = [];\n                    perHostData[series[i].name].push([series[i].count, 'Out']);\n                    perHostData[series[i].name].push([series[j].count, 'In']);\n                }\n                break;\n            case 'vertical':\n                for (let i = 0, j = 1; i < series.length - 1; i += 2, j += 2) {\n                    perHostData[series[i].name] = [];\n                    perHostData[series[i].name].push(['In', series[i].count]);\n                    perHostData[series[i].name].push(['Out', series[j].count]);\n                }\n                break;\n        }\n\n        return perHostData;\n    }\n\n    static extractValueAndLabel(data, valueColumn, direction, labelFunc) {\n        const values = [];\n\n        const columns = data[0].columns.map((e) => {\n            return e.text.toLowerCase();\n        });\n        const valueColumnIndex = columns.indexOf(valueColumn.toLowerCase());\n\n        data[0].rows.forEach((row) => {\n            values.push({\n                key: labelFunc(columns, row),\n                value: row[valueColumnIndex]\n            });\n        });\n\n        return values;\n    }\n\n    static getUnits(data, panelUnits) {\n        const dataElement = data[0];\n        let divisor = 1;\n        let units;\n        switch (panelUnits) {\n            case 'b':\n                units = dataElement.vars.toBits ? \"Bits\" : \"Bytes\";\n                break;\n            case 'kb':\n                divisor = 1024;\n                units = dataElement.vars.toBits ? \"Kb\" : \"KB\";\n                break;\n            case 'mb':\n                divisor = 1024 ** 2;\n                units = dataElement.vars.toBits ? \"Mb\" : \"MB\";\n                break;\n            case 'gb':\n                divisor = 1024 ** 3;\n                units = dataElement.vars.toBits ? \"Gb\" : \"GB\";\n                break;\n        }\n\n        return {\n            divisor: divisor,\n            units: units\n        }\n    }\n\n    static generateResultObject(data, i, divisor, color) {\n        return {\n            name: data[i].key,\n            count: _.defaultTo(data[i].value, 0) / divisor,\n            color: color,\n        }\n    }\n}\n\nHelmHistogramCtrl.templateUrl = 'panels/flow-histogram/module.html';\n\nexport {\n    HelmHistogramCtrl\n};\n","import {HelmHistogramCtrl} from './ctrl';\nimport {loadPluginCss} from 'app/plugins/sdk';\n\nloadPluginCss({\n    dark: 'plugins/opennms-helm-app/panels/flow-histogram/css/legend.dark.css',\n    light: 'plugins/opennms-helm-app/panels/flow-histogram/css/legend.light.css'\n});\n\nexport {\n    HelmHistogramCtrl as PanelCtrl\n};\n"],"sourceRoot":""}