/*! For license information please see module.js.LICENSE.txt */
define(["lodash","angular","jquery","app/plugins/sdk","moment","jquery.flot","jquery.flot.selection","jquery.flot.crosshair","jquery.flot.time","jquery.flot.stack"],(function(t,e,i,n,o,r,s,l,a,c){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=47)}({0:function(e,i){e.exports=t},21:function(t,e){t.exports=o},25:function(t,e){t.exports=r},26:function(t,e){t.exports=s},27:function(t,e){t.exports=l},28:function(t,e){!function(t){function e(t,e,i,n){var o="categories"==e.xaxis.options.mode,r="categories"==e.yaxis.options.mode;if(o||r){var s=n.format;if(!s){var l=e;if((s=[]).push({x:!0,number:!0,required:!0}),s.push({y:!0,number:!0,required:!0}),l.bars.show||l.lines.show&&l.lines.fill){var a=!!(l.bars.show&&l.bars.zero||l.lines.show&&l.lines.zero);s.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:a}),l.bars.horizontal&&(delete s[s.length-1].y,s[s.length-1].x=!0)}n.format=s}for(var c=0;c<s.length;++c)s[c].x&&o&&(s[c].number=!1),s[c].y&&r&&(s[c].number=!1)}}function i(t){var e=[];for(var i in t.categories){var n=t.categories[i];n>=t.min&&n<=t.max&&e.push([n,i])}return e.sort((function(t,e){return t[0]-e[0]})),e}function n(e,n,o){if("categories"==e[n].options.mode){if(!e[n].categories){var r={},s=e[n].options.categories||{};if(t.isArray(s))for(var l=0;l<s.length;++l)r[s[l]]=l;else for(var a in s)r[a]=s[a];e[n].categories=r}e[n].options.ticks||(e[n].options.ticks=i),function(t,e,i){for(var n=t.points,o=t.pointsize,r=t.format,s=e.charAt(0),l=function(t){var e=-1;for(var i in t)t[i]>e&&(e=t[i]);return e+1}(i),a=0;a<n.length;a+=o)if(null!=n[a])for(var c=0;c<o;++c){var h=n[a+c];null!=h&&r[c][s]&&(h in i||(i[h]=l,++l),n[a+c]=i[h])}}(o,n,e[n].categories)}}function o(t,e,i){n(e,"xaxis",i),n(e,"yaxis",i)}t.plot.plugins.push({init:function(t){t.hooks.processRawData.push(e),t.hooks.processDatapoints.push(o)},options:{xaxis:{categories:null},yaxis:{categories:null}},name:"categories",version:"1.0"})}(jQuery)},37:function(t,e){t.exports=a},38:function(t,e){t.exports=c},39:function(t,e){!function(t){function e(){return!!document.createElement("canvas").getContext&&"function"==typeof document.createElement("canvas").getContext("2d").fillText}function i(){var t=document.createElement("div");return void 0!==t.style.MozTransition||void 0!==t.style.OTransition||void 0!==t.style.webkitTransition||void 0!==t.style.transition}function n(t,e,i,n,o){this.axisName=t,this.position=e,this.padding=i,this.plot=n,this.opts=o,this.width=0,this.height=0}function o(t,e,i,o,r){n.prototype.constructor.call(this,t,e,i,o,r)}function r(t,e,i,o,r){n.prototype.constructor.call(this,t,e,i,o,r),this.elem=null}function s(t,e,i,n,o){r.prototype.constructor.call(this,t,e,i,n,o)}function l(t,e,i,n,o){s.prototype.constructor.call(this,t,e,i,n,o),this.requiresResize=!1}n.prototype.cleanup=function(){},o.prototype=new n,o.prototype.constructor=o,o.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels,this.padding,this.opts.axisLabelFontSizePixels,this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},o.prototype.draw=function(t){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var e=this.plot.getCanvas().getContext("2d");e.save(),e.textAlign="left",e.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily,e.fillStyle=this.opts.axisLabelColour;var i,n,o=e.measureText(this.opts.axisLabel).width,r=this.opts.axisLabelFontSizePixels,s=0;"top"==this.position?(i=t.left+t.width/2-o/2,n=t.top+.72*r):"bottom"==this.position?(i=t.left+t.width/2-o/2,n=t.top+t.height-.72*r):"left"==this.position?(i=t.left+.72*r,n=t.height/2+t.top+o/2,s=-Math.PI/2):"right"==this.position&&(i=t.left+t.width-.72*r,n=t.height/2+t.top-o/2,s=Math.PI/2),e.translate(i,n),e.rotate(s),e.fillText(this.opts.axisLabel,0,0),e.restore()},r.prototype=new n,r.prototype.constructor=r,r.prototype.calculateSize=function(){var e=t('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(e),this.labelWidth=e.outerWidth(!0),this.labelHeight=e.outerHeight(!0),e.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},r.prototype.cleanup=function(){this.elem&&this.elem.remove()},r.prototype.draw=function(e){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove(),this.elem=t('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem),"top"==this.position?(this.elem.css("left",e.left+e.width/2-this.labelWidth/2+"px"),this.elem.css("top",e.top+"px")):"bottom"==this.position?(this.elem.css("left",e.left+e.width/2-this.labelWidth/2+"px"),this.elem.css("top",e.top+e.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",e.top+e.height/2-this.labelHeight/2+"px"),this.elem.css("left",e.left+"px")):"right"==this.position&&(this.elem.css("top",e.top+e.height/2-this.labelHeight/2+"px"),this.elem.css("left",e.left+e.width-this.labelWidth+"px"))},s.prototype=new r,s.prototype.constructor=s,s.prototype.calculateSize=function(){r.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},s.prototype.transforms=function(t,e,i){var n={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=e||0!=i){var o=" translate("+e+"px, "+i+"px)";n["-moz-transform"]+=o,n["-webkit-transform"]+=o,n["-o-transform"]+=o,n["-ms-transform"]+=o}if(0!=t){var r=" rotate("+t+"deg)";n["-moz-transform"]+=r,n["-webkit-transform"]+=r,n["-o-transform"]+=r,n["-ms-transform"]+=r}var s="top: 0; left: 0; ";for(var l in n)n[l]&&(s+=l+":"+n[l]+";");return s+=";"},s.prototype.calculateOffsets=function(t){var e={x:0,y:0,degrees:0};return"bottom"==this.position?(e.x=t.left+t.width/2-this.labelWidth/2,e.y=t.top+t.height-this.labelHeight):"top"==this.position?(e.x=t.left+t.width/2-this.labelWidth/2,e.y=t.top):"left"==this.position?(e.degrees=-90,e.x=t.left-this.labelWidth/2+this.labelHeight/2,e.y=t.height/2+t.top):"right"==this.position&&(e.degrees=90,e.x=t.left+t.width-this.labelWidth/2-this.labelHeight/2,e.y=t.height/2+t.top),e.x=Math.round(e.x),e.y=Math.round(e.y),e},s.prototype.draw=function(e){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var i=this.calculateOffsets(e);this.elem=t('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(i.degrees,i.x,i.y)+'">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem)},l.prototype=new s,l.prototype.constructor=l,l.prototype.transforms=function(t,e,i){var n="";if(0!=t){for(var o=t/90;o<0;)o+=4;n+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+o+"); ",this.requiresResize="right"==this.position}return 0!=e&&(n+="left: "+e+"px; "),0!=i&&(n+="top: "+i+"px; "),n},l.prototype.calculateOffsets=function(t){var e=s.prototype.calculateOffsets.call(this,t);return"top"==this.position?e.y=t.top+1:"left"==this.position?(e.x=t.left,e.y=t.height/2+t.top-this.labelWidth/2):"right"==this.position&&(e.x=t.left+t.width-this.labelHeight,e.y=t.height/2+t.top-this.labelWidth/2),e},l.prototype.draw=function(t){s.prototype.draw.call(this,t),this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))},t.plot.plugins.push({init:function(n){n.hooks.processOptions.push((function(n,a){if(a.axisLabels.show){var c=!1,h={};n.hooks.draw.push((function(n,a){var u=!1;c?(c=!1,t.each(n.getAxes(),(function(t,e){var i=e.options||n.getOptions()[t];i&&i.axisLabel&&e.show&&h[t].draw(e.box)}))):(t.each(n.getAxes(),(function(t,a){var c=a.options||n.getOptions()[t];if(t in h&&(a.labelHeight=a.labelHeight-h[t].height,a.labelWidth=a.labelWidth-h[t].width,c.labelHeight=a.labelHeight,c.labelWidth=a.labelWidth,h[t].cleanup(),delete h[t]),c&&c.axisLabel&&a.show){u=!0;var d=null;if(c.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)d=c.axisLabelUseHtml||!i()&&!e()&&!c.axisLabelUseCanvas?r:c.axisLabelUseCanvas||!i()?o:s;else{var p=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(p)&&(rv=parseFloat(RegExp.$1)),d=rv>=9&&!c.axisLabelUseCanvas&&!c.axisLabelUseHtml?s:c.axisLabelUseCanvas||c.axisLabelUseHtml?c.axisLabelUseCanvas?o:r:l}var f=void 0===c.axisLabelPadding?2:c.axisLabelPadding;h[t]=new d(t,a.position,f,n,c),h[t].calculateSize(),c.labelHeight=a.labelHeight+h[t].height,c.labelWidth=a.labelWidth+h[t].width}})),u&&(c=!0,n.setupGrid(),n.draw()))}))}}))},options:{axisLabels:{show:!0}},name:"axisLabels",version:"2.0"})}(jQuery)},4:function(t,i){t.exports=e},47:function(t,e,i){"use strict";i.r(e);var n=i(8),o=i(0),r=i.n(o),s=i(6),l=i.n(s),a=i(21),c=i.n(a),h=(i(25),i(37),i(26),i(27),i(38),i(39),i(28),i(4)),u=i.n(h);function d(t){return getComputedStyle(t)}function p(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n+="px"),t.style[i]=n}return t}function f(t){var e=document.createElement("div");return e.className=t,e}var g="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function b(t,e){if(!g)throw new Error("No element matching method supported");return g.call(t,e)}function v(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){return Array.prototype.filter.call(t.children,(function(t){return b(t,e)}))}var y="ps",w="ps__rtl",x={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},L={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},W={x:null,y:null};function S(t,e){var i=t.element.classList,n=L.scrolling(e);i.contains(n)?clearTimeout(W[e]):i.add(n)}function Y(t,e){W[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(L.scrolling(e))}),t.settings.scrollingThreshold)}var R=function(t){this.element=t,this.handlers={}},k={isEmpty:{configurable:!0}};R.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},R.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter((function(n){return!(!e||n===e)||(i.element.removeEventListener(t,n,!1),!1)}))},R.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},k.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(R.prototype,k);var T=function(){this.eventElements=[]};function X(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function H(t,e,i,n,o){var r;if(void 0===n&&(n=!0),void 0===o&&(o=!1),"top"===e)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,n,o){var r=i[0],s=i[1],l=i[2],a=i[3],c=i[4],h=i[5];void 0===n&&(n=!0);void 0===o&&(o=!1);var u=t.element;t.reach[a]=null,u[l]<1&&(t.reach[a]="start");u[l]>t[r]-t[s]-1&&(t.reach[a]="end");e&&(u.dispatchEvent(X("ps-scroll-"+a)),e<0?u.dispatchEvent(X("ps-scroll-"+c)):e>0&&u.dispatchEvent(X("ps-scroll-"+h)),n&&function(t,e){S(t,e),Y(t,e)}(t,a));t.reach[a]&&(e||o)&&u.dispatchEvent(X("ps-"+a+"-reach-"+t.reach[a]))}(t,i,r,n,o)}function E(t){return parseInt(t,10)||0}T.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new R(t),this.eventElements.push(e)),e},T.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},T.prototype.unbind=function(t,e,i){var n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},T.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},T.prototype.once=function(t,e,i){var n=this.eventElement(t),o=function(t){n.unbind(e,o),i(t)};n.bind(e,o)};var O={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function P(t){var e=t.element,i=Math.floor(e.scrollTop),n=e.getBoundingClientRect();t.containerWidth=Math.round(n.width),t.containerHeight=Math.round(n.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(m(e,x.rail("x")).forEach((function(t){return v(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(m(e,x.rail("y")).forEach((function(t){return v(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=M(t,E(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=E((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=M(t,E(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=E(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},n=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft;e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-n:i.top=e.scrollbarXTop+n;p(e.scrollbarXRail,i);var o={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:o.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+t.scrollLeft;p(e.scrollbarYRail,o),p(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),p(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(L.active("x")):(e.classList.remove(L.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(L.active("y")):(e.classList.remove(L.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function M(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function C(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],s=e[4],l=e[5],a=e[6],c=e[7],h=e[8],u=t.element,d=null,p=null,f=null;function g(e){e.touches&&e.touches[0]&&(e[o]=e.touches[0].pageY),u[a]=d+f*(e[o]-p),S(t,c),P(t),e.stopPropagation(),e.type.startsWith("touch")&&e.changedTouches.length>1&&e.preventDefault()}function b(){Y(t,c),t[h].classList.remove(L.clicking),t.event.unbind(t.ownerDocument,"mousemove",g)}function v(e,s){d=u[a],s&&e.touches&&(e[o]=e.touches[0].pageY),p=e[o],f=(t[n]-t[i])/(t[r]-t[l]),s?t.event.bind(t.ownerDocument,"touchmove",g):(t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",b),e.preventDefault()),t[h].classList.add(L.clicking),e.stopPropagation()}t.event.bind(t[s],"mousedown",(function(t){v(t)})),t.event.bind(t[s],"touchstart",(function(t){v(t,!0)}))}var D={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,P(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=i*t.containerWidth,P(t),e.stopPropagation()}))},"drag-thumb":function(t){C(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),C(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(b(e,":hover")||b(t.scrollbarX,":focus")||b(t.scrollbarY,":focus"))){var n,o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(b(n=o,"input,[contenteditable]")||b(n,"select,[contenteditable]")||b(n,"textarea,[contenteditable]")||b(n,"button,[contenteditable]"))return}var r=0,s=0;switch(i.which){case 37:r=i.metaKey?-t.contentWidth:i.altKey?-t.containerWidth:-30;break;case 38:s=i.metaKey?t.contentHeight:i.altKey?t.containerHeight:30;break;case 39:r=i.metaKey?t.contentWidth:i.altKey?t.containerWidth:30;break;case 40:s=i.metaKey?-t.contentHeight:i.altKey?-t.containerHeight:-30;break;case 32:s=i.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==r||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=r,P(t),function(i,n){var o=Math.floor(e.scrollTop);if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===r&&i<0||r>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(r,s)&&i.preventDefault())}}))},wheel:function(t){var e=t.element;function i(i){var n=function(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}(i),o=n[0],r=n[1];if(!function(t,i,n){if(!O.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(x.consuming))return!0;var r=d(o);if(n&&r.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&n<0||o.scrollTop<s&&n>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<l&&i>0))return!0}o=o.parentNode}return!1}(i.target,o,r)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(r?e.scrollTop-=r*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=r*t.settings.wheelSpeed,s=!0):(e.scrollTop-=r*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),P(t),(s=s||function(i,n){var o=Math.floor(e.scrollTop),r=0===e.scrollTop,s=o+e.offsetHeight===e.scrollHeight,l=0===e.scrollLeft,a=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(n)>Math.abs(i)?r||s:l||a)||!t.settings.wheelPropagation}(o,r))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",i)},touch:function(t){if(O.supportsTouch||O.supportsIePointer){var e=t.element,i={},n=0,o={},r=null;O.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",u)):O.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",u)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",u)))}function s(i,n){e.scrollTop-=n,e.scrollLeft-=i,P(t)}function l(t){return t.targetTouches?t.targetTouches[0]:t}function a(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(a(t)){var e=l(t);i.pageX=e.pageX,i.pageY=e.pageY,n=(new Date).getTime(),null!==r&&clearInterval(r)}}function h(r){if(a(r)){var c=l(r),h={pageX:c.pageX,pageY:c.pageY},u=h.pageX-i.pageX,p=h.pageY-i.pageY;if(function(t,i,n){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(x.consuming))return!0;var r=d(o);if(n&&r.overflowY.match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&(o.scrollTop>0&&n<0||o.scrollTop<s&&n>0))return!0}if(i&&r.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<l&&i>0))return!0}o=o.parentNode}return!1}(r.target,u,p))return;s(u,p),i=h;var f=(new Date).getTime(),g=f-n;g>0&&(o.x=u/g,o.y=p/g,n=f),function(i,n){var o=Math.floor(e.scrollTop),r=e.scrollLeft,s=Math.abs(i),l=Math.abs(n);if(l>s){if(n<0&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return 0===window.scrollY&&n>0&&O.isChrome}else if(s>l&&(i<0&&r===t.contentWidth-t.containerWidth||i>0&&0===r))return!0;return!0}(u,p)&&r.preventDefault()}}function u(){t.settings.swipeEasing&&(clearInterval(r),r=setInterval((function(){t.isInitialized?clearInterval(r):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(r):t.element?(s(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(r):clearInterval(r)}),10))}}},B=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var n in this.element=t,t.classList.add(y),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[n]=e[n];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,r,s=function(){return t.classList.add(L.focus)},l=function(){return t.classList.remove(L.focus)};this.isRtl="rtl"===d(t).direction,!0===this.isRtl&&t.classList.add(w),this.isNegativeScroll=(r=t.scrollLeft,t.scrollLeft=-1,o=t.scrollLeft<0,t.scrollLeft=r,o),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new T,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=f(x.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=f(x.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",l),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var a=d(this.scrollbarXRail);this.scrollbarXBottom=parseInt(a.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=E(a.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=E(a.borderLeftWidth)+E(a.borderRightWidth),p(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=E(a.marginLeft)+E(a.marginRight),p(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=f(x.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=f(x.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",l),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=d(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=E(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=d(t);return E(e.width)+E(e.paddingLeft)+E(e.paddingRight)+E(e.borderLeftWidth)+E(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=E(c.borderTopWidth)+E(c.borderBottomWidth),p(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=E(c.marginTop)+E(c.marginBottom),p(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return D[t](i)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return i.onScroll(t)})),P(this)};B.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,p(this.scrollbarXRail,{display:"block"}),p(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=E(d(this.scrollbarXRail).marginLeft)+E(d(this.scrollbarXRail).marginRight),this.railYMarginHeight=E(d(this.scrollbarYRail).marginTop)+E(d(this.scrollbarYRail).marginBottom),p(this.scrollbarXRail,{display:"none"}),p(this.scrollbarYRail,{display:"none"}),P(this),H(this,"top",0,!1,!0),H(this,"left",0,!1,!0),p(this.scrollbarXRail,{display:""}),p(this.scrollbarYRail,{display:""}))},B.prototype.onScroll=function(t){this.isAlive&&(P(this),H(this,"top",this.element.scrollTop-this.lastScrollTop),H(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},B.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),v(this.scrollbarX),v(this.scrollbarY),v(this.scrollbarXRail),v(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},B.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var A=B;function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=U(t);if(e){var o=U(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return N(this,i)}}function N(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}u.a.module("grafana.directives").directive("flowLegend",["popoverSrv","$timeout",function(t,e){return{link:function(i,n){var o,s,a,c=l()('<div class="flow-legend__container"></div>'),h=!0,u=i.ctrl,d=u.panel;function p(t){return t.parents("[data-series-index]").data("series-index")}function f(t){var e=p(l()(t.currentTarget)),i=l()(c.children("tbody")).scrollTop()||0;u.toggleSeries(e),l()(c.children("tbody")).scrollTop(i)}function g(i){if(!l()(i.target).parents(".popover").length){var n=l()(i.currentTarget).find(".fa-minus"),o=p(n);e((function(){t.show({element:n[0],position:"right center",template:'<series-color-picker-popover series="series" onToggleAxis="toggleAxis" onColorChange="colorSelected"></series-color-picker-popover>',openOn:"hover",classNames:"drop-popover drop-popover--transparent",model:{autoClose:!0,colorSelected:function(t){u.changeSeriesColor(o,t)}}})}))}}i.$on("$destroy",(function(){a&&a.destroy()})),u.events.on("render",(function(){(o=u.legendData)&&function(){if(!d.legend.show)return c.empty(),void n.find(".flow-legend").css("padding-top",0);n.find(".flow-legend").css("padding-top",6);h&&(n.append(c),c.on("click",".flow-legend-icon",g),c.on("click",".flow-legend-alias",f),h=!1);c.empty();var t="Right side"===d.legendType&&d.legend.sideWidth?d.legend.sideWidth+"px":"",e="Right side"===d.legendType&&d.legend.sideWidth?d.legend.sideWidth-1+"px":"";n.css("min-width",t),n.css("width",e),c.toggleClass("flow-legend-table",!1);var i=[];for(s=0;s<o.length;s++){var p=o[s],b='<div class="flow-legend-series';u.hiddenSeries[s]&&(b+=" flow-legend-series-hidden"),b+='" data-series-index="'+s+'">',b+='<span class="flow-legend-icon" style="float:none;">',b+='<i class="fa fa-minus pointer" style="color:'+p.color+'"></i>',b+="</span>",b+='<a class="flow-legend-alias" style="float:none;">'+r.a.escape(p.label)+"</a>",b+="</div>",i.push(l()(b))}c.append(i),"Under graph"===d.legendType||"Right side"===d.legendType?a?a.update():a=new A(n[0],{scrollYMarginOffset:2,suppressScrollX:!0}):a&&(a.destroy(),a=null)}()}))}}}]);var K=function(t){s.$inject=["$scope","$injector","$timeout","$rootScope"],function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}(s,t);var e,i,n,o=_(s);function s(t,e,i,n){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(a=o.call(this,t,e)).$rootScope=n,a.scope=t,a.$timeout=i;var c=r.a.findIndex(l.a.plot.plugins,(function(t){return"categories"===t.name})),h=r.a.findIndex(l.a.plot.plugins,(function(t){return"stack"===t.name}));if(c>=0&&h>=0&&c>h){var u=l.a.plot.plugins[h];l.a.plot.plugins[h]=l.a.plot.plugins[c],l.a.plot.plugins[c]=u}return r.a.defaults(a.panel,{direction:"horizontal",units:"b",display:"total",mode:"separate",legend:{show:!0,sideWidth:120,bottomHeight:42},legendType:"Under graph",aliasColors:[]}),a._renderRetries=0,a.typeChanged=!1,a.hiddenSeries={},a.retryTimes=10,a.retryDelay=100,a.events.on("init-edit-mode",a.onInitEditMode.bind(F(a))),a.events.on("data-received",a.onDataReceived.bind(F(a))),a.events.on("data-error",a.onDataError.bind(F(a))),a.events.on("data-snapshot-load",a.onDataReceived.bind(F(a))),a.events.on("render",a.onRender.bind(F(a))),a.setLegendWidthForLegacyBrowser(),a}return e=s,n=[{key:"getData",value:function(t,e){var i=[],n=[];switch(e){case"horizontal":for(var o=0,r=1;o<t.length-1;o+=2,r+=2)n.push([t[o].count,t[o].name]),i.push([t[r].count,t[r].name]);break;case"vertical":for(var s=0,l=1;s<t.length-1;s+=2,l+=2)i.push([t[s].name,t[s].count]),n.push([t[l].name,t[l].count])}return{dataIn:i,dataOut:n}}},{key:"getDataStacked",value:function(t,e){var i={};switch(e){case"horizontal":for(var n=t.length-2,o=t.length-1;n>=0;n-=2,o-=2)i[t[n].name]=[],i[t[n].name].push([t[n].count,"Out"]),i[t[n].name].push([t[o].count,"In"]);break;case"vertical":for(var r=0,s=1;r<t.length-1;r+=2,s+=2)i[t[r].name]=[],i[t[r].name].push(["In",t[r].count]),i[t[r].name].push(["Out",t[s].count])}return i}},{key:"extractValueAndLabel",value:function(t,e,i,n){var o=[];if(!t||!t[0]||!t[0].columns)return o;var r=t[0].columns.map((function(t){return t.text.toLowerCase()})),s=r.indexOf(e.toLowerCase());return t[0].rows&&t[0].rows.forEach((function(t){o.push({key:n(r,t),value:t[s]})})),o}},{key:"getUnits",value:function(t,e){var i,n=t[0],o=n&&n.meta?n.meta.toBits:null,r=1;switch(e){case"b":i=o?"Bits":"Bytes";break;case"kb":r=1024,i=o?"Kb":"KB";break;case"mb":r=Math.pow(1024,2),i=o?"Mb":"MB";break;case"gb":r=Math.pow(1024,3),i=o?"Gb":"GB"}return{divisor:r,units:i}}},{key:"generateResultObject",value:function(t,e,i,n){return{name:t[e].key,count:r.a.defaultTo(t[e].value,0)/i,color:n}}}],(i=[{key:"link",value:function(t,e,i,n){this.elem=e.find(".flow-panel__chart"),this.ctrl=n}},{key:"onInitEditMode",value:function(){this.addEditorTab("Grouping","public/plugins/opennms-helm-app/panels/flow-histogram/editor.html",2)}},{key:"onDataReceived",value:function(t){if(t.length>0){var e=s.getUnits(t,this.panel.units);this.units=e.units;var i=this.getLabeledValues(t);this.series=this.getSeries(i,e.divisor),this.setData()}this.render()}},{key:"onDataError",value:function(){this.series=[],this.render()}},{key:"onRender",value:function(){var t=this;this.elem.empty();var e=this.ctrl.height||this.ctrl.panel.height||this.ctrl.row&&this.ctrl.row.height;if(r.a.isString(e)&&(e=parseInt(e.replace("px",""),10)),0===this.elem.width()||0===e||void 0===e)return!(this._renderRetries>this.retryTimes||(this._renderRetries++,this.$timeout((function(){t.onRender()}),this.retryDelay),0));e-=8,e-=this.getLegendHeight();var i=l()("<div></div>"),n={margin:"auto",position:"relative",height:e+"px"};this.elem.html(i),i.css(n),"Right side"===this.panel.legendType||this.typeChanged?(setTimeout((function(){return t.renderChart(i)}),0),this.typeChanged=!1):this.renderChart(i),this.ctrl.renderingCompleted()}},{key:"renderChart",value:function(t){if(this.series&&0!==this.series.length){if(t.height()>0&&t.width()>0){var e=this.getOptions();this.setData(),l.a.plot(t,this.seriesData,e)}}else this.noDataPoints()}},{key:"getLabeledValues",value:function(t){var e,i=t[0],n=i&&i.meta?i.meta.metric:void 0;switch(n){case"applications":e=function(t,e){return e[t.indexOf("application")]};break;case"hosts":e=function(t,e){return e[t.indexOf("host")]};break;case"conversations":e=function(t,e){var i=e[t.indexOf("application")];return e[t.indexOf("source")]+" <-> "+e[t.indexOf("dest.")]+" ["+(i||"Unknown")+"]"}}if(!n)return{inByLabel:"unknown",outByLabel:"unknown"};var o=i&&i.meta?i.meta.toBits:null,l=s.extractValueAndLabel(t,o?"Bits In":"Bytes In","In",e),a=s.extractValueAndLabel(t,o?"Bits Out":"Bytes Out","Out",e);if("rate"===this.panel.display){this.units+="/s";var h=c.a.duration(this.range.to.diff(this.range.from)).asSeconds();l=r.a.map(l,(function(t){return{key:t.key,value:t.value/h}})),a=r.a.map(a,(function(t){return{key:t.key,value:t.value/h}}))}return{inByLabel:l,outByLabel:a}}},{key:"getSeries",value:function(t,e){var i=[];switch(this.panel.direction){case"horizontal":for(var n=t.inByLabel.length-1;n>=0;n--)i.push(s.generateResultObject(t.outByLabel,n,e,"#DB4345")),i.push(s.generateResultObject(t.inByLabel,n,e,"#86B15B"));break;case"vertical":for(var o=0;o<t.inByLabel.length;o++)i.push(s.generateResultObject(t.inByLabel,o,e,"#86B15B")),i.push(s.generateResultObject(t.outByLabel,o,e,"#DB4345"))}return i}},{key:"getOptions",value:function(){var t={bars:{show:!0,barWidth:.6,align:"center",fill:.8,lineWidth:1},stack:"stacked"===this.panel.mode},e={mode:"categories",tickLength:0,autoscaleMargin:.02},i=[{axisLabel:this.units}],n={legend:{show:!1},axisLabels:{show:!0},series:t,grid:{borderWidth:0}};switch(this.panel.direction){case"horizontal":n.xaxes=i,t.bars.horizontal=!0,n.yaxis=e;break;case"vertical":n.yaxes=i,t.bars.horizontal=!1,n.xaxis=e}return n}},{key:"getSeriesData",value:function(t,e,i){var n;switch(i){case"separate":n=s.getData(this.series,this.panel.direction);var o={label:"In",bars:{show:!0,barWidth:.2},color:this.getColorForSeriesIndex(0)};this.hiddenSeries[0]||(o.data=n.dataIn);var r={label:"Out",bars:{show:!0,barWidth:.2},color:this.getColorForSeriesIndex(1)};switch(this.hiddenSeries[1]||(r.data=n.dataOut),e){case"horizontal":return o.bars.align="left",r.bars.align="right",[o,r];case"vertical":return o.bars.align="right",r.bars.align="left",[r,o]}break;case"stacked":n=s.getDataStacked(this.series,this.panel.direction);for(var l=[],a=0,c=0,h=Object.keys(n);c<h.length;c++){var u=h[c],d={label:u,color:this.getColorForSeriesIndex(a)};this.hiddenSeries[a++]||(d.data=n[u]),l.push(d)}return l}}},{key:"setData",value:function(){this.seriesData=this.getSeriesData(this.series,this.panel.direction,this.panel.mode),this.legendData=this.getLegendData(this.seriesData,this.panel.direction,this.panel.mode)}},{key:"getLegendData",value:function(t,e,i){var n=this,o=0;if("vertical"===e&&"separate"===i){for(var s=[],l=t.length-1;l>=0;l--){var a=t[l];s.push({label:a.label,color:this.getColorForSeriesIndex(o++)})}return s}return r.a.map(t,(function(t){return{label:t.label,color:n.getColorForSeriesIndex(o++)}}))}},{key:"getColorForSeriesIndex",value:function(t){return this.panel.aliasColors[t]?this.panel.aliasColors[t]:this.$rootScope.colors[t]}},{key:"changeSeriesColor",value:function(t,e){this.panel.aliasColors[t]=e,this.render()}},{key:"toggleSeries",value:function(t){this.hiddenSeries[t]?delete this.hiddenSeries[t]:this.hiddenSeries[t]=!0,this.render()}},{key:"onLegendTypeChanged",value:function(){this.setLegendWidthForLegacyBrowser(),this.typeChanged=!0,this.render()}},{key:"setLegendWidthForLegacyBrowser",value:function(){window.MSInputMethodContext&&document.documentMode&&"Right side"===this.panel.legendType&&!this.panel.legend.sideWidth&&(this.panel.legend.sideWidth=150)}},{key:"getLegendHeight",value:function(){return this.panel.legend.show&&"Right side"!==this.panel.legendType?"Under graph"===this.panel.legendType?this.panel.legend.bottomHeight:void 0:0}},{key:"noDataPoints",value:function(){this.elem.html('<div class="datapoints-warning"><span class="small">No data points</span></div>')}}])&&I(e.prototype,i),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(n.MetricsPanelCtrl);K.templateUrl="public/plugins/opennms-helm-app/panels/flow-histogram/module.html",i.d(e,"HelmHistogramCtrl",(function(){return K})),i.d(e,"PanelCtrl",(function(){return K}))},6:function(t,e){t.exports=i},8:function(t,e){t.exports=n}})}));
//# sourceMappingURL=module.js.map